(function(e){function t(t){for(var s,r,i=t[0],c=t[1],d=t[2],l=0,b=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&b.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(b.length)b.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],s=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},a={app:0},o=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0e96":function(e,t,n){"use strict";n("b6f9")},"10de":function(e,t,n){},"16c3":function(e,t,n){e.exports=n.p+"img/thumbupgreen.1cc6cf1f.png"},"1dd3":function(e,t,n){"use strict";n("870d")},"2a9c":function(e,t,n){},"2cc6":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAuUlEQVQ4ja2T3Q3CMAyEv0QVe8AUdJB0D8ociD3SQWAJeClLwEt4wAU3P4WinnSS5YsviePAGF5YQqLbicU/wQJXIIjzWeglp5nTLxWwFrNaGes4lxvijQHuwOrPGzwM0AIHoJlZ7IG9BXpJdMBN2EnuJCzpfRW57lShV6fygIn0Nxyvjs5FAFw8B61w2HUr9BkdWGCQYOEr6FkPYq43SP5C/ApHFTd8ut1k9MTAZeL6iz4ymPrGRTwBjzM2ebvL5DkAAAAASUVORK5CYII="},3293:function(e,t,n){},3471:function(e,t,n){},3547:function(e,t,n){},3689:function(e,t,n){},3945:function(e,t,n){"use strict";n("3471")},4232:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAD4UlEQVR4nO3bS4gcRRzH8c+uu5CHiUaRaE6BvDaQoxijiOIDQVG8CSoRRA/qRV2CIB58nARREEFQg7hBPXgIXgRFL6KJCeIhKnEjIgiii+IaYswmJlkPNcP0jv2cmd6anZ0vNNPd9a/qX/+6qru6qmdEOVbjZmzCeMk8/cQZ/IhP8E+VjCPYg78wPwDLLCYb51XIKN7tA9F1LO+UMWFPHwjtxXIYr+H7tv1P5J38aoNT7V9snNM4Xknsn8Wq0QwDbsJFeQ4tQf4Vrvq3je2LcWOWAVsXRdLicxYfJba3Zhlw4SKIicWvifW1WQYsG4YGxBYQm6EBsQXEZmhAbAGxGRoQW0BshgbEFhCboQGxBcQmy4ClOPCZxZm8xCwDVtQgJBan8xKXgwFzeYnLwYBTeYnLwYBlXwM6MmBlDUJi0ZEBl9YgJBazeYlZBqzvwYHnVJyIrImZvMQ6DDgnTEBegjW4XZiWisVveYlpBqzT3U3wSbwkPH7O40NcjYNdlNkpZ/FHXkCaAd1c/feFk2/SnIE9LtSEYzl59+MWbMY1eKsLHU1+Fy5CJa7X2STkUQtnlO7HIVyW2LdNuCLJfKexO0PLwQ61NJevU8qcTKQ/k1YDLs8Qk8cp3I2/G9s7hCnpq/CBVpOaxl1aj6YTuANTKWWOCROY3ZDb/klvAps6ONCzONJYX4X3tPoSu/CmVnP4HDdgL67Fx4lyHhRmb6fwGSYa+89jX2OpUqV/rnISTaZUr2p3JvLvzYh5PueYI4KJWeW/3aG+x1KOtaAJjKUEbMsRmsULWCtU+QcyYp4WasVTFr6jr8AbuC+n/JGM9SKmiwJ6ZcCEUD2LmMRteB2/YAsewsaCfPdqnfg9FXQV9j/aDbhC/V+GbMfLFfOMyq8hacwpcQ9ovwl2cvX7lWmhV5pLuwETqVFLk8L2z/8NuLIGIbH4pkxQuwG7ahASiy/LBCUNWGNwmsA8vioTmDRgp8GZKDkqfOhZSLsBg8KhsoFDAxq/I0I3dlA4XDawacBmvRkH7AdOKPkIpGXA9nq0ROELYSisFMkmMCjsrxLcNOBIbtTSYUb4l0tpmgb8hE97LmdxmcfDWsNypUg+Bh9RMITcx5zDoypWfxYacEwYqyvVhewjDuA6YRC2Mu0DIt8J/YGdjd/1uKAbdTVxUhhROqDLWae0IbF54U2q1NvUEmRDYv34oLz8lGUMtya282aqBo5xvKo1JP4nVqY1gSxGhdHZDUWBfchG4a+AWxL7nlPw/VA7u8X/E2Svln0avd8q94D5CrH9yiwe17qYld4BRoVJiR2911U7M/hB6O0uqPb/Ad5A2UIFpD4QAAAAAElFTkSuQmCC"},4812:function(e,t,n){},"4b7c":function(e,t,n){},5438:function(e,t,n){},5640:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAAeElEQVRoge3WMQ6AIBBE0VEPbWk8moXn0oKQWBDcwmVR/0uoSJaZapEAAAD+a6jcHc1S2BSzjq1TPI0CAGKxB6JRAEAs9kA0CgD4jllpd1jOEpTxlqVEt+GzWonuw2elEq8Jn11LuIWfvAZL2pU+YJuk1fEdAAh0AhXHJ9HQhMRUAAAAAElFTkSuQmCC"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23"),a=Object(s["E"])("data-v-2536ab16");Object(s["s"])("data-v-2536ab16");var o={id:"app"},r={id:"content-container"};Object(s["q"])();var i=a((function(e,t,n,a,i,c){var d=Object(s["w"])("NavBar"),u=Object(s["w"])("router-view");return Object(s["p"])(),Object(s["d"])("div",o,[Object(s["g"])(d,{id:"navbar"}),Object(s["g"])("div",r,[Object(s["g"])(u)])])})),c=(n("ac1f"),n("841c"),n("5640")),d=n.n(c),u=Object(s["E"])("data-v-1c3772b0");Object(s["s"])("data-v-1c3772b0");var l={class:"navbar"},b={class:"container-fluid"},m=Object(s["g"])("a",{id:"logo",class:"navbar-brand",href:"/"},[Object(s["f"])("Micro"),Object(s["g"])("span",{id:"red-logo-part"},"Red"),Object(s["f"])("dit")],-1),g={id:"search-bar",class:"d-xl-flex"},p={id:"user-actions",class:"d-xl-flex"},O={key:0},f=Object(s["f"])("Profil"),h=Object(s["f"])("Logowanie"),j=Object(s["f"])("Rejestracja"),w={id:"dropdown",class:"nav-item dropdown d-xl-none"},v=Object(s["g"])("a",{class:"nav-link",href:"#",id:"navbar-dropdown-menu-link",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[Object(s["g"])("img",{id:"dropdown-icon",src:d.a})],-1),A={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbar-dropdown-menu-link"},y={id:"search-bar-dropdown"},k={key:0},S=Object(s["g"])("a",{class:"dropdown-item",href:"/usersettings"},"Profil",-1),x={key:1},I={key:2},P=Object(s["g"])("a",{class:"dropdown-item",href:"/login"},"Logowanie",-1),L={key:3},C=Object(s["g"])("a",{class:"dropdown-item",href:"/register"},"Rejestracja",-1);Object(s["q"])();var N=u((function(e,t,n,a,o,r){var i=Object(s["w"])("router-link");return Object(s["p"])(),Object(s["d"])("nav",l,[Object(s["g"])("div",b,[m,Object(s["g"])("form",g,[Object(s["D"])(Object(s["g"])("input",{id:"search-input",type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.searchString=e})},null,512),[[s["B"],o.searchString]]),Object(s["g"])("button",{id:"search-input-button",class:"btn",type:"button",onClick:t[2]||(t[2]=function(){return r.search&&r.search.apply(r,arguments)})},"Szukaj")]),Object(s["g"])("div",p,[e.loggedIn?(Object(s["p"])(),Object(s["d"])("div",O,"Witaj, "+Object(s["y"])(e.username)+"!",1)):Object(s["e"])("",!0),e.loggedIn?(Object(s["p"])(),Object(s["d"])(i,{key:1,id:"userpanel",to:"/usersettings"},{default:u((function(){return[f]})),_:1})):Object(s["e"])("",!0),e.loggedIn?Object(s["e"])("",!0):(Object(s["p"])(),Object(s["d"])(i,{key:2,id:"login",to:"/login",class:"col"},{default:u((function(){return[h]})),_:1})),e.loggedIn?Object(s["e"])("",!0):(Object(s["p"])(),Object(s["d"])(i,{key:3,id:"register",to:"/register",class:"col"},{default:u((function(){return[j]})),_:1})),e.loggedIn?(Object(s["p"])(),Object(s["d"])("a",{key:4,id:"logout",vtype:"button",onClick:t[3]||(t[3]=function(){return r.logout&&r.logout.apply(r,arguments)})},"Wyloguj")):Object(s["e"])("",!0)]),Object(s["g"])("div",w,[v,Object(s["g"])("ul",A,[Object(s["g"])("li",y,[Object(s["D"])(Object(s["g"])("input",{id:"search-input-dropdown",type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.searchString=e})},null,512),[[s["B"],o.searchString]]),Object(s["g"])("button",{id:"search-input-button-dropdown",class:"btn",type:"button",onClick:t[5]||(t[5]=function(){return r.search&&r.search.apply(r,arguments)})},"Szukaj")]),e.loggedIn?(Object(s["p"])(),Object(s["d"])("li",k,[S])):Object(s["e"])("",!0),e.loggedIn?(Object(s["p"])(),Object(s["d"])("li",x,[Object(s["g"])("a",{class:"dropdown-item",href:"/",onClick:t[6]||(t[6]=function(){return r.logout&&r.logout.apply(r,arguments)})},"Wyloguj")])):Object(s["e"])("",!0),e.loggedIn?Object(s["e"])("",!0):(Object(s["p"])(),Object(s["d"])("li",I,[P])),e.loggedIn?Object(s["e"])("",!0):(Object(s["p"])(),Object(s["d"])("li",L,[C]))])])])])})),R=n("1da1"),V=(n("96cf"),n("bc3a")),U=n.n(V),M="/api",T={login:function(e,t){return U.a.post("".concat(M,"/user/login"),{email:e,password:t},{withCredentials:!0})},logout:function(){return U.a.get("".concat(M,"/user/logout"),{withCredentials:!0})},register:function(e,t,n){return U.a.post("".concat(M,"/user/register"),{email:e,username:t,password:n})},getUserData:function(){return U.a.get("".concat(M,"/user"),{withCredentials:!0})},updateUserData:function(e,t,n){return U.a.put("".concat(M,"/user"),{email:t,username:e,password:n},{withCredentials:!0})}},E=n("5502"),z={name:"NavBar",data:function(){return{searchString:""}},computed:Object(E["b"])(["loggedIn","username"]),methods:{logout:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.logout();case 2:e.$store.commit("resetUser"),sessionStorage.clear(),e.$router.push("/subreddits");case 5:case"end":return t.stop()}}),t)})))()},search:function(){0!==this.searchString.length&&(this.$router.push({path:"/searchresults",query:{searchString:this.searchString}}),this.searchString="")}}};n("8e73");z.render=N,z.__scopeId="data-v-1c3772b0";var B=z,D={name:"App",components:{NavBar:B}};n("d208");D.render=i,D.__scopeId="data-v-2536ab16";var W=D,F=n("6c02"),Y=Object(s["E"])("data-v-4239d446");Object(s["s"])("data-v-4239d446");var Q=Object(s["g"])("h1",null,"Logowanie",-1),Z={class:"mb-3"},q=Object(s["g"])("label",{for:"input-email",class:"form-label"},"Adres e-mail",-1),J={class:"mb-3"},K=Object(s["g"])("label",{for:"input-password",class:"form-label"},"Hasło",-1),G={id:"message"};Object(s["q"])();var H=Y((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("form",null,[Q,Object(s["g"])("div",Z,[q,Object(s["D"])(Object(s["g"])("input",{type:"text",class:"form-control",id:"input-email","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.email=e})},null,512),[[s["B"],o.email]])]),Object(s["g"])("div",J,[K,Object(s["D"])(Object(s["g"])("input",{type:"password",class:"form-control",id:"input-password","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.password=e})},null,512),[[s["B"],o.password]])]),Object(s["g"])("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=function(){return r.login&&r.login.apply(r,arguments)})},"Zatwierdź"),Object(s["g"])("div",G,[Object(s["g"])("pre",null,Object(s["y"])(o.message),1)])])})),$={methods:{checkEmail:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}}},_={name:"Login",data:function(){return{email:"",password:"",message:""}},mixins:[$],methods:{checkFields:function(){return this.message="",0===this.email.length?this.message+="Nie podano e-mail.\n":this.checkEmail(this.email)||(this.message+="Niepoprawny format adresu e-mail.\n"),0===this.password.length&&(this.message+="Nie podano hasła.\n"),0===this.message.length},login:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkFields()){t.next=5;break}return t.next=3,T.login(e.email,e.password);case 3:n=t.sent,"message"in n.data?e.message=n.data.message:(e.$store.commit("setUser",n.data.user),e.$router.push("/"));case 5:case"end":return t.stop()}}),t)})))()}}};n("aa2c");_.render=H,_.__scopeId="data-v-4239d446";var X=_,ee=Object(s["E"])("data-v-2e3941d2");Object(s["s"])("data-v-2e3941d2");var te=Object(s["g"])("h1",null,"Rejestracja",-1),ne={class:"mb-3"},se=Object(s["g"])("label",{for:"input-nick",class:"form-label"},"Nazwa użytkownika",-1),ae={class:"mb-3"},oe=Object(s["g"])("label",{for:"input-email",class:"form-label"},"Adres e-mail",-1),re={class:"mb-3"},ie=Object(s["g"])("label",{for:"input-password",class:"form-label"},"Hasło",-1),ce={class:"mb-3"},de=Object(s["g"])("label",{for:"input-password2",class:"form-label"},"Powtórzone hasło",-1),ue={id:"message"};Object(s["q"])();var le=ee((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("form",null,[te,Object(s["g"])("div",ne,[se,Object(s["D"])(Object(s["g"])("input",{type:"text",class:"form-control",id:"input-nick","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.username=e})},null,512),[[s["B"],o.username]])]),Object(s["g"])("div",ae,[oe,Object(s["D"])(Object(s["g"])("input",{type:"email",class:"form-control",id:"input-email","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.email=e})},null,512),[[s["B"],o.email]])]),Object(s["g"])("div",re,[ie,Object(s["D"])(Object(s["g"])("input",{type:"password",class:"form-control",id:"input-password","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.password=e})},null,512),[[s["B"],o.password]])]),Object(s["g"])("div",ce,[de,Object(s["D"])(Object(s["g"])("input",{type:"password",class:"form-control",id:"input-password2","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.password2=e})},null,512),[[s["B"],o.password2]])]),Object(s["g"])("button",{type:"button",class:"btn",onClick:t[5]||(t[5]=function(){return r.register&&r.register.apply(r,arguments)})},"Zatwierdź"),Object(s["g"])("div",ue,[Object(s["g"])("pre",null,Object(s["y"])(o.message),1)])])})),be={name:"Register",data:function(){return{username:"",email:"",password:"",password2:"",message:""}},mixins:[$],methods:{checkFields:function(){return this.message="",0===this.username.length&&(this.message+="Nie wypełniono pola z nazwą użytkownika.\n"),0===this.email.length?this.message+="Nie wypełniono pola z e-mail'em.\n":this.checkEmail(this.email)||(this.message+="Niepoprawny format adresu e-mail.\n"),0===this.password.length||0===this.password2.length?this.message+="Nie wypełniono pola z hasłem.\n":this.password!==this.password2&&(this.message+="Podane hasła są niezgodne.\n"),0===this.message.length},register:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkFields()){t.next=5;break}return t.next=3,T.register(e.email,e.username,e.password);case 3:n=t.sent,"message"in n.data?e.message=n.data.message:e.$router.push("/login");case 5:case"end":return t.stop()}}),t)})))()}}};n("b1c7");be.render=le,be.__scopeId="data-v-2e3941d2";var me=be,ge=Object(s["E"])("data-v-5faaae20");Object(s["s"])("data-v-5faaae20");var pe=Object(s["g"])("h2",null,"Twoje dane",-1),Oe={class:"mb-3"},fe=Object(s["g"])("label",{for:"input-nick",class:"form-label"},"Nazwa użytkownika",-1),he={class:"input-group mb-3"},je={key:1,id:"changeOptions"},we={class:"mb-3"},ve=Object(s["g"])("label",{for:"input-email",class:"form-label"},"Adres e-mail",-1),Ae={class:"input-group mb-3"},ye={key:1,id:"changeOptions"},ke={class:"mb-3"},Se=Object(s["g"])("label",{for:"input-password",class:"form-label"},"Hasło",-1),xe={class:"input-group mb-3"},Ie={key:1,id:"changeOptions"};Object(s["q"])();var Pe=ge((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("form",null,[pe,Object(s["g"])("div",Oe,[fe,Object(s["g"])("div",he,[Object(s["D"])(Object(s["g"])("input",{type:"text",class:"form-control",id:"input-nick",disabled:o.nickInputAccess?0:1,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.nickname=e})},null,8,["disabled"]),[[s["B"],o.nickname]]),!1===o.nickInputAccess?(Object(s["p"])(),Object(s["d"])("button",{key:0,class:"btn",type:"button",onClick:t[2]||(t[2]=function(){return r.switchNickInputAccess&&r.switchNickInputAccess.apply(r,arguments)})},"Zmień nazwę")):(Object(s["p"])(),Object(s["d"])("div",je,[Object(s["g"])("button",{class:"btn",type:"button",onClick:t[3]||(t[3]=function(){return r.changeNickname&&r.changeNickname.apply(r,arguments)})},"Zatwierdź"),Object(s["g"])("button",{class:"btn",type:"button",onClick:t[4]||(t[4]=function(){return r.switchNickInputAccess&&r.switchNickInputAccess.apply(r,arguments)})},"Anuluj")]))])]),Object(s["g"])("div",we,[ve,Object(s["g"])("div",Ae,[Object(s["D"])(Object(s["g"])("input",{type:"email",class:"form-control",id:"input-email",disabled:o.emailInputAccess?0:1,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.email=e})},null,8,["disabled"]),[[s["B"],o.email]]),!1===o.emailInputAccess?(Object(s["p"])(),Object(s["d"])("button",{key:0,class:"btn",type:"button",onClick:t[6]||(t[6]=function(){return r.switchEmailInputAccess&&r.switchEmailInputAccess.apply(r,arguments)})},"Zmień e-mail")):(Object(s["p"])(),Object(s["d"])("div",ye,[Object(s["g"])("button",{class:"btn",type:"button",onClick:t[7]||(t[7]=function(){return r.changeEmail&&r.changeEmail.apply(r,arguments)})},"Zatwierdź"),Object(s["g"])("button",{class:"btn",type:"button",onClick:t[8]||(t[8]=function(){return r.switchEmailInputAccess&&r.switchEmailInputAccess.apply(r,arguments)})},"Anuluj")]))])]),Object(s["g"])("div",ke,[Se,Object(s["g"])("div",xe,[Object(s["D"])(Object(s["g"])("input",{type:"password",class:"form-control",id:"input-password",disabled:o.passwordInputAccess?0:1,"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.password=e})},null,8,["disabled"]),[[s["B"],o.password]]),!1===o.passwordInputAccess?(Object(s["p"])(),Object(s["d"])("button",{key:0,class:"btn",type:"button",onClick:t[10]||(t[10]=function(){return r.switchPasswordInputAccess&&r.switchPasswordInputAccess.apply(r,arguments)})},"Zmień hasło")):(Object(s["p"])(),Object(s["d"])("div",Ie,[Object(s["g"])("button",{class:"btn",type:"button",onClick:t[11]||(t[11]=function(){return r.changePassword&&r.changePassword.apply(r,arguments)})},"Zatwierdź"),Object(s["g"])("button",{class:"btn",type:"button",onClick:t[12]||(t[12]=function(){return r.switchPasswordInputAccess&&r.switchPasswordInputAccess.apply(r,arguments)})},"Anuluj")]))])]),Object(s["g"])("div",{id:o.messageId},Object(s["y"])(o.message),9,["id"])])})),Le={name:"UserSettings",data:function(){return{nickname:"",email:"",password:"",serverNickname:"",serverEmail:"",serverPassword:"",nickInputAccess:!1,emailInputAccess:!1,passwordInputAccess:!1,message:"",messageId:"messageGreen"}},mixins:[$],created:function(){this.loadUserSettings()},methods:{loadUserSettings:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.getUserData();case 2:n=t.sent,e.nickname=n.data.username,e.email=n.data.email,e.password=n.data.password,e.serverNickname=n.data.username,e.serverEmail=n.data.email,e.serverPassword=n.data.password;case 9:case"end":return t.stop()}}),t)})))()},changeNickname:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.updateUserData(e.nickname,e.serverEmail,e.serverPassword);case 2:n=t.sent,"message"in n.data?(e.message=n.data.message,e.messageId="messageRed"):(e.serverNickname=e.nickname,e.switchNickInputAccess(),e.message="Pomyślnie zmieniono nazwę użytkownika.",e.messageId="messageGreen",e.$store.commit("changeUsername",n.data.username));case 4:case"end":return t.stop()}}),t)})))()},changeEmail:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkEmail(e.email)){t.next=7;break}return t.next=3,T.updateUserData(e.serverNickname,e.email,e.serverPassword);case 3:n=t.sent,"message"in n.data?(e.message=n.data.message,e.messageId="messageRed"):(e.serverEmail=e.email,e.switchEmailInputAccess(),e.message="Pomyślnie zmieniono e-mail.",e.messageId="messageGreen"),t.next=9;break;case 7:e.message="Niepoprawny format adresu e-mail.",e.messageId="messageRed";case 9:case"end":return t.stop()}}),t)})))()},changePassword:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.updateUserData(e.serverNickname,e.serverEmail,e.password);case 2:n=t.sent,"message"in n.data?(e.message=n.data.message,e.messageId="messageRed"):(e.serverPassword=e.password,e.switchPasswordInputAccess(),e.message="Pomyślnie zmieniono hasło.",e.messageId="messageGreen");case 4:case"end":return t.stop()}}),t)})))()},switchNickInputAccess:function(){this.nickInputAccess=!this.nickInputAccess,this.nickname=this.serverNickname,this.message=""},switchEmailInputAccess:function(){this.emailInputAccess=!this.emailInputAccess,this.email=this.serverEmail,this.message=""},switchPasswordInputAccess:function(){this.passwordInputAccess=!this.passwordInputAccess,this.password=this.serverPassword,this.message=""}}};n("b6f8");Le.render=Pe,Le.__scopeId="data-v-5faaae20";var Ce=Le,Ne=(n("b0c0"),n("a4d3"),n("e01a"),Object(s["E"])("data-v-ab9d06ca"));Object(s["s"])("data-v-ab9d06ca");var Re={id:"content-container"},Ve=Object(s["g"])("h2",null,"Edycja subreddit'a",-1),Ue={class:"mb-3"},Me=Object(s["g"])("label",{for:"input-name",class:"form-label"},"Nazwa",-1),Te={class:"mb-3"},Ee=Object(s["g"])("label",{for:"input-description",class:"form-label"},"Opis",-1),ze={id:"form-buttons"},Be={id:"message"};Object(s["q"])();var De=Ne((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("div",Re,[Ve,Object(s["g"])("form",null,[Object(s["g"])("div",Ue,[Me,Object(s["D"])(Object(s["g"])("input",{type:"text",class:"form-control",id:"input-name","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.name=e}),disabled:""},null,512),[[s["B"],o.name]])]),Object(s["g"])("div",Te,[Ee,Object(s["D"])(Object(s["g"])("textarea",{class:"form-control",id:"input-description","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.description=t})},null,512),[[s["B"],e.description]])]),Object(s["g"])("div",ze,[Object(s["g"])("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=function(){return r.edit&&r.edit.apply(r,arguments)})},"Zatwierdź"),Object(s["g"])("button",{type:"button",class:"btn",onClick:t[4]||(t[4]=function(){return r.cancel&&r.cancel.apply(r,arguments)})},"Anuluj")]),Object(s["g"])("div",Be,[Object(s["g"])("pre",null,Object(s["y"])(o.message),1)])])])})),We=(n("99af"),"/api"),Fe={getEntireNumberOfSubreddits:function(){return U.a.get("".concat(We,"/subreddit/total"))},getEntireNumberOfMySubreddits:function(){return U.a.get("".concat(We,"/subreddit/my/total"),{withCredentials:!0})},getEntireNumberOfFollowedSubreddits:function(){return U.a.get("".concat(We,"/subreddit/followed/total"),{withCredentials:!0})},getSubreddits:function(){return U.a.get("".concat(We,"/subreddit"))},getNumberOfSubreddits:function(e,t){return U.a.get("".concat(We,"/subreddit/").concat(e,"/").concat(t))},getNumberOfMySubreddits:function(e,t){return U.a.get("".concat(We,"/subreddit/my/").concat(e,"/").concat(t),{withCredentials:!0})},getNumberOfFollowedSubreddits:function(e,t){return U.a.get("".concat(We,"/subreddit/followed/").concat(e,"/").concat(t),{withCredentials:!0})},getSubredditByName:function(e){return U.a.get("".concat(We,"/subreddit/byname"),{params:{name:e}})},getSubredditById:function(e){return U.a.get("".concat(We,"/subreddit/").concat(e))},getSearchedSubredditsTotal:function(e){return U.a.get("".concat(We,"/subreddit/search/total"),{params:{searchString:e}})},getNumberOfSearchedSubreddits:function(e,t,n){return U.a.get("".concat(We,"/subreddit/search/").concat(t,"/").concat(n),{params:{searchString:e}})},addSubreddit:function(e,t){return U.a.post("".concat(We,"/subreddit"),{name:e,description:t},{withCredentials:!0})},updateSubreddit:function(e,t){return U.a.put("".concat(We,"/subreddit/").concat(e),{description:t},{withCredentials:!0})}},Ye={name:"SubredditEdit",data:function(){return{id:0,name:"",desc:"",message:""}},created:function(){this.id=this.$route.params.id,this.checkIfSubredditExists()},methods:{checkIfSubredditExists:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fe.getSubredditById(e.id);case 2:if(n=t.sent,!("message"in n.data)){t.next=6;break}return e.message=n.data.message,t.abrupt("return",!1);case 6:if(0!==n.data.length){t.next=9;break}return e.message="Subreddit o nazwie podanej w parametrze URL nie istnieje.",t.abrupt("return",!1);case 9:return e.name=n.data.name,e.description=n.data.description,t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t)})))()},checkFields:function(){return this.message="",0===this.description.length?this.message+="Nie wypełniono pola z opisem.\n":this.description.length>256&&(this.message+="Opis zbyt długi - maksymalna długość to 256 znaków.\n"),0===this.message.length},edit:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkFields()){t.next=5;break}return t.next=3,Fe.updateSubreddit(e.id,e.description);case 3:n=t.sent,"message"in n.data?e.message=n.data.message:e.$router.push({path:"/subreddit/".concat(e.name)});case 5:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$router.go(-1)}}};n("d717");Ye.render=De,Ye.__scopeId="data-v-ab9d06ca";var Qe=Ye,Ze=Object(s["E"])("data-v-6b33f91d");Object(s["s"])("data-v-6b33f91d");var qe={id:"content-container",class:"d-xl-flex flex-xl-row"},Je={key:0,id:"navbar"},Ke=Object(s["g"])("button",{id:"menu-button",class:"navbar-toggler d-xl-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar-content","aria-controls":"navbar-content","aria-expanded":"true","aria-label":"Toggle navigation"}," Menu ",-1),Ge={class:"collapse mt-xl-0",id:"navbar-content"},He={id:"subreddit-menu"},$e=Object(s["g"])("h4",null,"Subreddit'y",-1),_e={id:"navbar-items",class:"navbar-nav"},Xe=Object(s["f"])("Wszystkie"),et=Object(s["f"])("Moje"),tt=Object(s["f"])("Obserwowane"),nt={id:"actions-menu"},st=Object(s["g"])("h4",null,"Akcje",-1),at={id:"navbar-items",class:"navbar-nav"},ot=Object(s["f"])("Dodaj subreddit'a");Object(s["q"])();var rt=Ze((function(e,t,n,a,o,r){var i=Object(s["w"])("router-link"),c=Object(s["w"])("router-view");return Object(s["p"])(),Object(s["d"])("div",qe,[e.loggedIn?(Object(s["p"])(),Object(s["d"])("nav",Je,[Ke,Object(s["g"])("div",Ge,[Object(s["g"])("div",He,[$e,Object(s["g"])("div",_e,[Object(s["g"])(i,{id:"router-link",to:"/subreddits",class:"btn nav-item",type:"button"},{default:Ze((function(){return[Xe]})),_:1}),Object(s["g"])(i,{id:"router-link",to:"/mysubreddits",class:"btn nav-item",type:"button"},{default:Ze((function(){return[et]})),_:1}),Object(s["g"])(i,{id:"router-link",to:"/followedsubreddits",class:"btn nav-item",type:"button"},{default:Ze((function(){return[tt]})),_:1})])]),Object(s["g"])("div",nt,[st,Object(s["g"])("div",at,[Object(s["g"])(i,{id:"router-link",to:"/addsubreddit",class:"btn nav-item",type:"button"},{default:Ze((function(){return[ot]})),_:1})])])])])):Object(s["e"])("",!0),Object(s["g"])(c)])})),it={name:"Home",data:function(){return{}},computed:Object(E["b"])(["loggedIn"]),created:function(){this.loggedIn?this.$router.push("/userhome"):this.$router.push("/subreddits")}};n("fc6a0");it.render=rt,it.__scopeId="data-v-6b33f91d";var ct=it,dt=n("c121"),ut=n.n(dt),lt=Object(s["E"])("data-v-2852243f");Object(s["s"])("data-v-2852243f");var bt={id:"all"},mt=Object(s["g"])("h2",null,"Wszystkie subreddit'y",-1),gt={id:"message"},pt={id:"cards",class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-4 g-4"},Ot={class:"card-body"},ft={class:"card-title"},ht={class:"card-text"},jt={id:"card-footer",class:"card-footer"},wt=Object(s["g"])("img",{id:"followers-icon",src:ut.a},null,-1),vt={id:"followers"},At={id:"button-container"},yt={ref:"bottom",id:"bottom"};Object(s["q"])();var kt=lt((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("div",bt,[mt,Object(s["g"])("div",gt,Object(s["y"])(o.message),1),Object(s["g"])("div",pt,[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(o.subreddits,(function(e){return Object(s["p"])(),Object(s["d"])("div",{class:"col",key:e.id},[Object(s["g"])("div",{id:"card",class:"card h-100",onClick:function(t){return r.goToSubreddit(e.name)}},[Object(s["g"])("div",Ot,[Object(s["g"])("h5",ft,Object(s["y"])(e.name),1),Object(s["g"])("p",ht,Object(s["y"])(e.description),1)]),Object(s["g"])("div",jt,[wt,Object(s["g"])("small",vt,Object(s["y"])(e.followers),1)])],8,["onClick"])])})),128))]),Object(s["g"])("div",At,[o.loadMoreVisibility?(Object(s["p"])(),Object(s["d"])("button",{key:0,id:"loadMoreButton",class:"btn",type:"button",onClick:t[1]||(t[1]=function(){return r.loadNextSubreddits&&r.loadNextSubreddits.apply(r,arguments)})},"Załaduj więcej")):Object(s["e"])("",!0)]),Object(s["g"])("div",yt,null,512)])})),St={name:"Subreddits",data:function(){return{subreddits:[],entireNumberOfSubsToLoad:0,numberOfSubsToLoadAtOnce:12,numberOfSubsAlreadyLoaded:0,windowWidth:window.innerWidth,resizeId:0,loadMoreVisibility:!1,loadedMoreSubsFlag:!1,numberOfLoads:0,message:""}},created:function(){this.init()},updated:function(){this.loadedMoreSubsFlag&&this.numberOfLoads>1&&(this.scrollToBottom(),this.loadedMoreSubsFlag=!1)},methods:{init:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fe.getEntireNumberOfSubreddits();case 2:n=t.sent,"message"in n.data?e.message=n.data.message:n.data.amount>0?(e.entireNumberOfSubsToLoad=n.data.amount,e.loadMoreVisibility=!0,e.setNumberOfSubsToLoadAtOnce(),e.loadNextSubreddits(),window.onresize=e.onResize):e.message="Nie dodano jeszcze żadnych subreddit'ów.";case 4:case"end":return t.stop()}}),t)})))()},onResize:function(){clearTimeout(this.resizeId),this.resizeId=setTimeout(this.onResizeEnd,250)},onResizeEnd:function(){this.windowWidth=window.innerWidth,this.setNumberOfSubsToLoadAtOnce()},setNumberOfSubsToLoadAtOnce:function(){this.windowWidth>=1200?this.numberOfSubsToLoadAtOnce=12:this.windowWidth>=768?this.numberOfSubsToLoadAtOnce=9:this.windowWidth>=576?this.numberOfSubsToLoadAtOnce=6:this.numberOfSubsToLoadAtOnce=3},loadNextSubreddits:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fe.getNumberOfSubreddits(e.numberOfSubsAlreadyLoaded,e.numberOfSubsToLoadAtOnce);case 2:n=t.sent,"message"in n.data?(e.message=n.data.message,e.loadMoreVisibility=!1):(e.numberOfSubsAlreadyLoaded+=n.data.length,e.subreddits=e.subreddits.concat(n.data),e.numberOfSubsAlreadyLoaded>=parseInt(e.entireNumberOfSubsToLoad)&&(e.loadMoreVisibility=!1),e.numberOfLoads++,e.loadedMoreSubsFlag=!0);case 4:case"end":return t.stop()}}),t)})))()},scrollToBottom:function(){var e=this.$refs.bottom;e.scrollIntoView()},goToSubreddit:function(e){this.$router.push("/subreddit/"+e)}}};n("fb87");St.render=kt,St.__scopeId="data-v-2852243f";var xt=St,It=Object(s["E"])("data-v-693479f9");Object(s["s"])("data-v-693479f9");var Pt={id:"all"},Lt=Object(s["g"])("h2",null,"Moje subreddit'y",-1),Ct={id:"message"},Nt={id:"cards",class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-4 g-4"},Rt={class:"card-body"},Vt={class:"card-title"},Ut={class:"card-text"},Mt={id:"card-footer",class:"card-footer"},Tt=Object(s["g"])("img",{id:"followers-icon",src:ut.a},null,-1),Et={id:"followers"},zt={id:"button-container"},Bt={ref:"bottom",id:"bottom"};Object(s["q"])();var Dt=It((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("div",Pt,[Lt,Object(s["g"])("div",Ct,Object(s["y"])(o.message),1),Object(s["g"])("div",Nt,[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(o.subreddits,(function(e){return Object(s["p"])(),Object(s["d"])("div",{class:"col",key:e.id},[Object(s["g"])("div",{id:"card",class:"card h-100",onClick:function(t){return r.goToSubreddit(e.name)}},[Object(s["g"])("div",Rt,[Object(s["g"])("h5",Vt,Object(s["y"])(e.name),1),Object(s["g"])("p",Ut,Object(s["y"])(e.description),1)]),Object(s["g"])("div",Mt,[Tt,Object(s["g"])("small",Et,Object(s["y"])(e.followers),1)])],8,["onClick"])])})),128))]),Object(s["g"])("div",zt,[o.loadMoreVisibility?(Object(s["p"])(),Object(s["d"])("button",{key:0,id:"loadMoreButton",class:"btn",type:"button",onClick:t[1]||(t[1]=function(){return r.loadNextSubreddits&&r.loadNextSubreddits.apply(r,arguments)})},"Załaduj więcej")):Object(s["e"])("",!0)]),Object(s["g"])("div",Bt,null,512)])})),Wt={name:"MySubreddits",data:function(){return{subreddits:[],entireNumberOfSubsToLoad:0,numberOfSubsToLoadAtOnce:12,numberOfSubsAlreadyLoaded:0,windowWidth:window.innerWidth,resizeId:0,loadMoreVisibility:!1,loadedMoreSubsFlag:!1,numberOfLoads:0,message:""}},created:function(){this.init()},updated:function(){this.loadedMoreSubsFlag&&this.numberOfLoads>1&&(this.scrollToBottom(),this.loadedMoreSubsFlag=!1)},methods:{init:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fe.getEntireNumberOfMySubreddits();case 2:if(n=t.sent,!("message"in n.data)){t.next=7;break}e.message=n.data.message,t.next=17;break;case 7:if(!("amount"in n.data&&n.data.amount>0)){t.next=16;break}return e.entireNumberOfSubsToLoad=n.data.amount,e.loadMoreVisibility=!0,t.next=12,e.setNumberOfSubsToLoadAtOnce();case 12:e.loadNextSubreddits(),window.onresize=e.onResize,t.next=17;break;case 16:e.message="Nie dodano jeszcze żadnych subreddit'ów.";case 17:case"end":return t.stop()}}),t)})))()},onResize:function(){clearTimeout(this.resizeId),this.resizeId=setTimeout(this.onResizeEnd,250)},onResizeEnd:function(){this.windowWidth=window.innerWidth,this.setNumberOfSubsToLoadAtOnce()},setNumberOfSubsToLoadAtOnce:function(){this.windowWidth>=1200?this.numberOfSubsToLoadAtOnce=12:this.windowWidth>=768?this.numberOfSubsToLoadAtOnce=9:this.windowWidth>=576?this.numberOfSubsToLoadAtOnce=6:this.numberOfSubsToLoadAtOnce=3},loadNextSubreddits:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fe.getNumberOfMySubreddits(e.numberOfSubsAlreadyLoaded,e.numberOfSubsToLoadAtOnce);case 2:n=t.sent,"message"in n.data?(e.message=n.data.message,e.loadMoreVisibility=!1):(e.numberOfSubsAlreadyLoaded+=n.data.length,e.subreddits=e.subreddits.concat(n.data),e.numberOfSubsAlreadyLoaded>=parseInt(e.entireNumberOfSubsToLoad)&&(e.loadMoreVisibility=!1),e.numberOfLoads++,e.loadedMoreSubsFlag=!0);case 4:case"end":return t.stop()}}),t)})))()},scrollToBottom:function(){var e=this.$refs.bottom;e.scrollIntoView()},goToSubreddit:function(e){this.$router.push("/subreddit/"+e)}}};n("6acc");Wt.render=Dt,Wt.__scopeId="data-v-693479f9";var Ft=Wt,Yt=Object(s["E"])("data-v-24e53360");Object(s["s"])("data-v-24e53360");var Qt={id:"all"},Zt=Object(s["g"])("h2",null,"Obserwowane subreddit'y",-1),qt={id:"message"},Jt={id:"cards",class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-4 g-4"},Kt={class:"card-body"},Gt={class:"card-title"},Ht={class:"card-text"},$t={id:"card-footer",class:"card-footer"},_t=Object(s["g"])("img",{id:"followers-icon",src:ut.a},null,-1),Xt={id:"followers"},en={id:"button-container"},tn={ref:"bottom",id:"bottom"};Object(s["q"])();var nn=Yt((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("div",Qt,[Zt,Object(s["g"])("div",qt,Object(s["y"])(o.message),1),Object(s["g"])("div",Jt,[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(o.subreddits,(function(e){return Object(s["p"])(),Object(s["d"])("div",{class:"col",key:e.id},[Object(s["g"])("div",{id:"card",class:"card h-100",onClick:function(t){return r.goToSubreddit(e.name)}},[Object(s["g"])("div",Kt,[Object(s["g"])("h5",Gt,Object(s["y"])(e.name),1),Object(s["g"])("p",Ht,Object(s["y"])(e.description),1)]),Object(s["g"])("div",$t,[_t,Object(s["g"])("small",Xt,Object(s["y"])(e.followers),1)])],8,["onClick"])])})),128))]),Object(s["g"])("div",en,[o.loadMoreVisibility?(Object(s["p"])(),Object(s["d"])("button",{key:0,id:"loadMoreButton",class:"btn",type:"button",onClick:t[1]||(t[1]=function(){return r.loadNextSubreddits&&r.loadNextSubreddits.apply(r,arguments)})},"Załaduj więcej")):Object(s["e"])("",!0)]),Object(s["g"])("div",tn,null,512)])})),sn={name:"FollowedSubreddits",data:function(){return{subreddits:[],entireNumberOfSubsToLoad:0,numberOfSubsToLoadAtOnce:12,numberOfSubsAlreadyLoaded:0,windowWidth:window.innerWidth,resizeId:0,loadMoreVisibility:!1,loadedMoreSubsFlag:!1,numberOfLoads:0,message:""}},created:function(){this.init()},updated:function(){this.loadedMoreSubsFlag&&this.numberOfLoads>1&&(this.scrollToBottom(),this.loadedMoreSubsFlag=!1)},methods:{init:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fe.getEntireNumberOfFollowedSubreddits();case 2:n=t.sent,"message"in n.data?e.message=n.data.message:"amount"in n.data&&n.data.amount>0?(e.entireNumberOfSubsToLoad=n.data.amount,e.loadMoreVisibility=!0,e.setNumberOfSubsToLoadAtOnce(),e.loadNextSubreddits(),window.onresize=e.onResize):e.message="Nie obserwujesz jeszcze żadnych subreddit'ów.";case 4:case"end":return t.stop()}}),t)})))()},onResize:function(){clearTimeout(this.resizeId),this.resizeId=setTimeout(this.onResizeEnd,250)},onResizeEnd:function(){this.windowWidth=window.innerWidth,this.setNumberOfSubsToLoadAtOnce()},setNumberOfSubsToLoadAtOnce:function(){this.windowWidth>=1200?this.numberOfSubsToLoadAtOnce=12:this.windowWidth>=768?this.numberOfSubsToLoadAtOnce=9:this.windowWidth>=576?this.numberOfSubsToLoadAtOnce=6:this.numberOfSubsToLoadAtOnce=3},loadNextSubreddits:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fe.getNumberOfFollowedSubreddits(e.numberOfSubsAlreadyLoaded,e.numberOfSubsToLoadAtOnce);case 2:n=t.sent,"message"in n.data?(e.message=n.data.message,e.loadMoreVisibility=!1):(e.numberOfSubsAlreadyLoaded+=n.data.length,e.subreddits=e.subreddits.concat(n.data),e.numberOfSubsAlreadyLoaded>=parseInt(e.entireNumberOfSubsToLoad)&&(e.loadMoreVisibility=!1),e.numberOfLoads++,e.loadedMoreSubsFlag=!0);case 4:case"end":return t.stop()}}),t)})))()},scrollToBottom:function(){var e=this.$refs.bottom;e.scrollIntoView()},goToSubreddit:function(e){this.$router.push("/subreddit/"+e)}}};n("0e96");sn.render=nn,sn.__scopeId="data-v-24e53360";var an=sn,on=n("4232"),rn=n.n(on),cn=n("c8e4"),dn=n.n(cn),un=Object(s["E"])("data-v-16e04f60");Object(s["s"])("data-v-16e04f60");var ln={id:"content-container"},bn={key:0,id:"loading-info"},mn={key:1},gn={id:"navbar",class:"d-flex flex-xl-row"},pn={id:"subreddit-info"},On=Object(s["g"])("label",{for:"subreddit-name"},"Tytuł",-1),fn={id:"subreddit-name"},hn=Object(s["g"])("label",{for:"subreddit-desc"},"Opis",-1),jn={id:"subreddit-desc"},wn={id:"add-info"},vn=Object(s["g"])("img",{id:"posts-icon",src:rn.a},null,-1),An=Object(s["g"])("img",{id:"followers-icon",src:ut.a},null,-1),yn={class:"d-flex flex-column align-items-center"},kn=Object(s["g"])("button",{id:"menu-button",class:"navbar-toggler d-xl-none",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar-content","aria-controls":"navbar-content","aria-expanded":"true","aria-label":"Toggle navigation"}," Menu ",-1),Sn={class:"collapse mt-xl-0",id:"navbar-content"},xn={id:"navbar-items",class:"navbar-nav"},In={key:0,id:"action-section"},Pn=Object(s["g"])("h4",null,"Akcje",-1),Ln={id:"action-buttons"},Cn=Object(s["f"])("Edytuj opis"),Nn=Object(s["f"])("Dodaj post"),Rn={id:"follow-buttons"},Vn={id:"sort-section"},Un=Object(s["g"])("h4",null,"Sortowanie",-1),Mn={id:"sort-radios"},Tn={id:"sort-by-section"},En=Object(s["g"])("label",{for:"sort-by-default-radio"},"Domyślne",-1),zn={id:"sort-by-section"},Bn=Object(s["g"])("label",{for:"sort-by-popularity-radio"},"Według głosów",-1),Dn={id:"sort-by-section"},Wn=Object(s["g"])("label",{for:"sort-by-newest-radio"},"Według daty",-1),Fn={id:"posts"},Yn={id:"message"},Qn={id:"cards",class:"row row-cols-1 row-cols-md-3 row-cols-xl-4 g-4"},Zn={id:"card",class:"card h-100"},qn={class:"card-body"},Jn={id:"card-header"},Kn=Object(s["g"])("img",{src:dn.a,alt:"Usuń"},null,-1),Gn={id:"card-text",class:"card-text"},Hn={id:"card-footer",class:"card-footer"},$n={id:"creation-date",class:"text-muted"},_n=Object(s["f"])("Głosy: "),Xn={id:"load-more-container"},es={ref:"bottom",id:"bottom"};Object(s["q"])();var ts=un((function(e,t,n,a,o,r){var i=Object(s["w"])("router-link");return Object(s["p"])(),Object(s["d"])("div",ln,[o.isLoaded?(Object(s["p"])(),Object(s["d"])("div",mn,[Object(s["g"])("nav",gn,[Object(s["g"])("div",pn,[On,Object(s["g"])("h5",fn,Object(s["y"])(o.name),1),hn,Object(s["g"])("h5",jn,Object(s["y"])(o.description),1),Object(s["g"])("div",wn,[Object(s["g"])("h6",null,[vn,Object(s["f"])(" "+Object(s["y"])(o.postsTotal),1)]),Object(s["g"])("h6",null,[An,Object(s["f"])(" "+Object(s["y"])(o.followers),1)])])]),Object(s["g"])("div",yn,[kn,Object(s["g"])("div",Sn,[Object(s["g"])("div",xn,[e.loggedIn?(Object(s["p"])(),Object(s["d"])("div",In,[Pn,Object(s["g"])("div",Ln,[o.isModerator?(Object(s["p"])(),Object(s["d"])(i,{key:0,id:"router-link",to:"/subredditedit/"+o.id,class:"btn nav-item",type:"button"},{default:un((function(){return[Cn]})),_:1},8,["to"])):Object(s["e"])("",!0),Object(s["g"])(i,{id:"router-link",to:"/addpost/"+o.id,class:"btn nav-item",type:"button"},{default:un((function(){return[Nn]})),_:1},8,["to"]),Object(s["g"])("div",Rn,[o.isFollowed?(Object(s["p"])(),Object(s["d"])("button",{key:1,id:"unfollow-button",class:"btn",type:"button",onClick:t[2]||(t[2]=function(e){return r.unfollow()})},"Nie obserwuj")):(Object(s["p"])(),Object(s["d"])("button",{key:0,id:"follow-button",class:"btn",type:"button",onClick:t[1]||(t[1]=function(e){return r.follow()})},"Obserwuj"))])])])):Object(s["e"])("",!0),Object(s["g"])("div",Vn,[Un,Object(s["g"])("div",Mn,[Object(s["g"])("div",Tn,[Object(s["D"])(Object(s["g"])("input",{type:"radio",id:"sort-by-default-radio",value:"default","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.sortOption=e}),onChange:t[4]||(t[4]=function(){return r.sortPosts&&r.sortPosts.apply(r,arguments)})},null,544),[[s["A"],o.sortOption]]),En]),Object(s["g"])("div",zn,[Object(s["D"])(Object(s["g"])("input",{type:"radio",id:"sort-by-popularity-radio",value:"popularity","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.sortOption=e}),onChange:t[6]||(t[6]=function(){return r.sortPosts&&r.sortPosts.apply(r,arguments)})},null,544),[[s["A"],o.sortOption]]),Bn]),Object(s["g"])("div",Dn,[Object(s["D"])(Object(s["g"])("input",{type:"radio",id:"sort-by-newest-radio",value:"newest","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.sortOption=e}),onChange:t[8]||(t[8]=function(){return r.sortPosts&&r.sortPosts.apply(r,arguments)})},null,544),[[s["A"],o.sortOption]]),Wn])])])])])])]),Object(s["g"])("div",Fn,[Object(s["g"])("div",Yn,Object(s["y"])(o.message),1),Object(s["g"])("div",Qn,[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(o.posts,(function(t,n){return Object(s["p"])(),Object(s["d"])("div",{class:"col",key:t.id},[Object(s["g"])("div",Zn,[Object(s["g"])("div",qn,[Object(s["g"])("div",Jn,[Object(s["g"])("h5",{id:"card-title",class:"card-title",onClick:function(e){return r.goToPost(t.id)}},Object(s["y"])(t.title),9,["onClick"]),o.isModerator?(Object(s["p"])(),Object(s["d"])("button",{key:0,onClick:function(e){return r.deletePost(t.id,n)}},[Kn],8,["onClick"])):Object(s["e"])("",!0)]),Object(s["g"])("p",Gn,Object(s["y"])(t.content),1)]),Object(s["g"])("div",Hn,[Object(s["g"])("small",$n,Object(s["y"])(e.formatDate(t.creation_date)),1),Object(s["g"])("small",null,[_n,Object(s["g"])("span",{id:t.votes>0?"votes-green":t.votes<0?"votes-red":""},Object(s["y"])(t.votes),9,["id"])])])])])})),128))]),Object(s["g"])("div",Xn,[o.loadMoreVisibility?(Object(s["p"])(),Object(s["d"])("button",{key:0,id:"loadMoreButton",class:"btn",type:"button",onClick:t[9]||(t[9]=function(){return r.loadNextPosts&&r.loadNextPosts.apply(r,arguments)})},"Załaduj więcej")):Object(s["e"])("",!0)]),Object(s["g"])("div",es,null,512)])])):(Object(s["p"])(),Object(s["d"])("div",bn,Object(s["y"])(o.loadingInfo),1))])})),ns=(n("a434"),n("c740"),"/api"),ss={getEntireNumberOfSubredditPosts:function(e){return U.a.get("".concat(ns,"/post/total"),{params:{subredditName:e}})},getNumberOfSubredditPosts:function(e,t,n){return U.a.get("".concat(ns,"/post/").concat(t,"/").concat(n),{params:{subredditName:e}})},getEntireNumberOfUserFollowedSubredditPosts:function(){return U.a.get("".concat(ns,"/post/user/total"),{withCredentials:!0})},getNumberOfUserFollowedSubredditPosts:function(e,t){return U.a.get("".concat(ns,"/post/user/").concat(e,"/").concat(t),{withCredentials:!0})},getSearchedPostsTotal:function(e){return U.a.get("".concat(ns,"/post/search/total"),{params:{searchString:e}})},getNumberOfSearchedPosts:function(e,t,n){return U.a.get("".concat(ns,"/post/search/").concat(t,"/").concat(n),{params:{searchString:e}})},addPostWithImg:function(e,t,n,s,a){var o=new FormData;return o.append("title",e),o.append("content",t),o.append("img",n),o.append("yturl",s),o.append("subredditId",a),U.a.post("".concat(ns,"/post/img"),o,{withCredentials:!0})},addPost:function(e,t,n,s){return U.a.post("".concat(ns,"/post"),{title:e,content:t,yturl:n,subredditId:s},{withCredentials:!0})},getPost:function(e){return U.a.get("".concat(ns,"/post/").concat(e))},deletePost:function(e){return U.a.delete("".concat(ns,"/post/").concat(e),{withCredentials:!0})}},as={methods:{formatDate:function(e){var t=new Date(e);return new Intl.DateTimeFormat("default",{dateStyle:"long"}).format(t)}}},os="/api",rs={checkIfUserFollows:function(e){return U.a.get("".concat(os,"/subreddituser"),{params:{subredditId:e},withCredentials:!0})},follow:function(e){return U.a.post("".concat(os,"/subreddituser"),{subredditId:e},{withCredentials:!0})},unfollow:function(e){return U.a.delete("".concat(os,"/subreddituser"),{data:{subredditId:e},withCredentials:!0})}},is={methods:{checkIfUserIsModeratorById:function(e){for(var t=this.$store.state.userSubreddits,n=0;n<t.length;n++)if(t[n].id===e)return!0;return!1},checkIfUserIsModeratorByName:function(e){for(var t=this.$store.state.userSubreddits,n=0;n<t.length;n++)if(t[n].name===e)return!0;return!1}}},cs={name:"Subreddit",data:function(){return{id:0,name:"",description:"",posts:[],postsTotal:0,followers:0,entireNumberOfPostsToLoad:0,numberOfPostsToLoadAtOnce:0,numberOfPostsAlreadyLoaded:0,windowWidth:window.innerWidth,resizeId:0,loadMoreVisibility:!1,loadedMorePostsFlag:!1,numberOfLoads:0,sortOption:"",isFollowed:!1,isModerator:!1,message:"",loadingInfo:"Ładowanie subreddit'a...",isLoaded:!1}},mixins:[as,is],computed:Object(E["b"])(["loggedIn"]),created:function(){this.name=this.$route.params.name,this.init()},updated:function(){this.loadedMorePostsFlag&&this.numberOfLoads>1&&(this.scrollToBottom(),this.loadedMorePostsFlag=!1)},methods:{init:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkIfSubredditExists();case 2:if(!t.sent){t.next=11;break}e.checkIfUserFollows(),e.isModerator=e.checkIfUserIsModeratorById(e.id),e.initSocketEvents(),e.loadMoreVisibility=!0,e.setNumberOfPostsToLoadAtOnce(),e.loadNextPosts(),window.onresize=e.onResize,e.isLoaded=!0;case 11:case"end":return t.stop()}}),t)})))()},checkIfSubredditExists:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fe.getSubredditByName(e.name);case 2:if(n=t.sent,!("message"in n.data)){t.next=6;break}return e.loadingInfo=n.data.message,t.abrupt("return",!1);case 6:if(0!==n.data.length){t.next=9;break}return e.loadingInfo="Subreddit o nazwie podanej w parametrze URL nie istnieje.",t.abrupt("return",!1);case 9:return e.id=n.data.id,e.description=n.data.description,e.entireNumberOfPostsToLoad=n.data.posts,e.postsTotal=n.data.posts,e.followers=n.data.followers,t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t)})))()},onResize:function(){clearTimeout(this.resizeId),this.resizeId=setTimeout(this.onResizeEnd,250)},onResizeEnd:function(){this.windowWidth=window.innerWidth,this.setNumberOfPostsToLoadAtOnce()},setNumberOfPostsToLoadAtOnce:function(){this.windowWidth>=1200?this.numberOfPostsToLoadAtOnce=12:this.windowWidth>=768?this.numberOfPostsToLoadAtOnce=9:this.windowWidth>=576?this.numberOfPostsToLoadAtOnce=6:this.numberOfPostsToLoadAtOnce=3},loadNextPosts:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ss.getNumberOfSubredditPosts(e.name,e.numberOfPostsAlreadyLoaded,e.numberOfPostsToLoadAtOnce);case 2:n=t.sent,"message"in n.data?(e.message=n.data.message,e.loadMoreVisibility=!1):0===n.data.length&&0===e.numberOfPostsAlreadyLoaded?(e.message="Nie dodano jeszcze żadnych postów.",e.loadMoreVisibility=!1):(e.numberOfPostsAlreadyLoaded+=n.data.length,e.posts=e.posts.concat(n.data),e.sortPosts(),e.numberOfPostsAlreadyLoaded>=parseInt(e.entireNumberOfPostsToLoad)&&(e.loadMoreVisibility=!1),e.numberOfLoads++,e.loadedMorePostsFlag=!0);case 4:case"end":return t.stop()}}),t)})))()},sortPosts:function(){"popularity"===this.sortOption?this.posts.sort((function(e,t){return e.votes<t.votes?1:-1})):"newest"===this.sortOption?this.posts.sort((function(e,t){return e.creation_date<t.creation_date?1:-1})):this.posts.sort((function(e,t){return e.id>t.id?1:-1}))},scrollToBottom:function(){var e=this.$refs.bottom;e.scrollIntoView()},checkIfUserFollows:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loggedIn){t.next=5;break}return t.next=3,rs.checkIfUserFollows(e.id);case 3:n=t.sent,"message"in n.data&&e.loggedIn?e.message=n.data.message:0===n.data.length?e.isFollowed=!1:e.isFollowed=!0;case 5:case"end":return t.stop()}}),t)})))()},follow:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rs.follow(e.id);case 2:n=t.sent,"message"in n.data?e.message=n.data.message:(e.isFollowed=!0,e.followers++);case 4:case"end":return t.stop()}}),t)})))()},unfollow:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,rs.unfollow(e.id);case 2:n=t.sent,"message"in n.data?e.message=n.data.message:(e.isFollowed=!1,e.followers--);case 4:case"end":return t.stop()}}),t)})))()},deletePost:function(e,t){var n=this;return Object(R["a"])(regeneratorRuntime.mark((function s(){var a,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,ss.deletePost(e);case 2:a=s.sent,"message"in a.data?n.message=a.data.message:(o=n.posts.splice(t,1)[0],n.$socketio.emit("deletedPost",{subredditId:n.id,post:o}),n.postsTotal--);case 4:case"end":return s.stop()}}),s)})))()},initSocketEvents:function(){var e=this;this.$socketio.emit("joinSubreddit",this.id),this.$socketio.on("postWasDeleted",(function(t){var n=e.posts.findIndex((function(e){if(e.id===t.id)return!0}));e.posts.splice(n,1),e.postsTotal--,0===e.posts.length&&(e.message="Nie dodano jeszcze żadnych postów.")})),this.$socketio.on("newPost",(function(t){e.posts.push(t),e.postsTotal++,0===e.posts.length&&(e.message="Nie dodano jeszcze żadnych postów."),e.sortPosts()}))},goToPost:function(e){this.$router.push("/post/"+e)}}};n("85a8");cs.render=ts,cs.__scopeId="data-v-16e04f60";var ds=cs,us=n("2cc6"),ls=n.n(us),bs=Object(s["E"])("data-v-366630fa");Object(s["s"])("data-v-366630fa");var ms={id:"content-container",class:"d-flex flex-lg-row align-items-lg-start"},gs={key:0},ps={key:1,id:"post-container"},Os={id:"creation-date-container"},fs=Object(s["g"])("img",{id:"calendar-icon",src:ls.a},null,-1),hs={id:"creation-date"},js=Object(s["f"])(" - "),ws={id:"author"},vs={id:"title"},As={id:"media-container"},ys={id:"image-container"},ks={key:0,id:"video-section"},Ss={id:"video-container"},xs={id:"votes"},Is={id:"votes-number"},Ps={key:0,id:"vote-buttons"},Ls={key:2,id:"comments-container"},Cs=Object(s["g"])("div",{id:"comments-header"},"Komentarze",-1),Ns={key:0,id:"comment-input-container",class:"input-group mb-3"},Rs={key:1,id:"comments-message"},Vs={id:"comments-section"};Object(s["q"])();var Us=bs((function(e,t,n,a,o,r){var i=Object(s["w"])("Comment");return Object(s["p"])(),Object(s["d"])("div",ms,[o.postLoaded?Object(s["e"])("",!0):(Object(s["p"])(),Object(s["d"])("div",gs,"Ładowanie posta...")),o.postLoaded?(Object(s["p"])(),Object(s["d"])("div",ps,[Object(s["g"])("div",Os,[fs,Object(s["g"])("div",hs,Object(s["y"])(e.formatDate(o.creationDate)),1),Object(s["g"])("div",null,[js,Object(s["g"])("span",ws,Object(s["y"])(o.author),1)])]),Object(s["g"])("div",vs,Object(s["y"])(o.title),1),Object(s["g"])("div",{id:"content",innerHTML:o.content},null,8,["innerHTML"]),Object(s["g"])("div",As,[Object(s["g"])("div",ys,[Object(s["g"])("a",{target:"_blank",href:o.imgSrc},[Object(s["g"])("img",{id:"image",src:o.imgSrc},null,8,["src"])],8,["href"])]),0!==o.videoSrc.length?(Object(s["p"])(),Object(s["d"])("div",ks,[Object(s["g"])("div",Ss,[Object(s["g"])("iframe",{src:o.videoSrc,frameborder:"0",allowfullscreen:""},null,8,["src"])])])):Object(s["e"])("",!0)]),Object(s["g"])("div",xs,[Object(s["g"])("div",Is,"Głosy: "+Object(s["y"])(o.votes),1),e.loggedIn?(Object(s["p"])(),Object(s["d"])("div",Ps,[Object(s["g"])("button",{id:"vote-button",onClick:t[1]||(t[1]=function(){return r.voteUp&&r.voteUp.apply(r,arguments)})},[Object(s["g"])("img",{src:o.voteUpIconSrc,alt:"Głosuj na tak"},null,8,["src"])]),Object(s["g"])("button",{id:"vote-button",onClick:t[2]||(t[2]=function(){return r.voteDown&&r.voteDown.apply(r,arguments)})},[Object(s["g"])("img",{src:o.voteDownIconSrc,alt:"Głosuj na nie"},null,8,["src"])])])):Object(s["e"])("",!0)])])):Object(s["e"])("",!0),o.postLoaded?(Object(s["p"])(),Object(s["d"])("div",Ls,[Cs,e.loggedIn?(Object(s["p"])(),Object(s["d"])("div",Ns,[Object(s["D"])(Object(s["g"])("input",{id:"comment-input",type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.newComment=e})},null,512),[[s["B"],o.newComment]]),Object(s["g"])("button",{id:"comment-input-button",class:"btn",type:"button",onClick:t[4]||(t[4]=function(){return r.addComment&&r.addComment.apply(r,arguments)})},"Wyślij")])):Object(s["e"])("",!0),0!==o.commentsMessage.length?(Object(s["p"])(),Object(s["d"])("div",Rs,Object(s["y"])(o.commentsMessage),1)):Object(s["e"])("",!0),Object(s["g"])("div",Vs,[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(o.comments,(function(t,n){return Object(s["p"])(),Object(s["d"])("div",{id:"comments",key:t.id},[Object(s["g"])(i,{isModerator:e.isModerator,id:t.id,author:t.nickname,content:t.content,onOnDelete:function(e){return r.deleteComment(n,e)}},null,8,["isModerator","id","author","content","onOnDelete"])])})),128))]),o.loadMoreVisibility?(Object(s["p"])(),Object(s["d"])("button",{key:2,id:"load-more-button",class:"btn",type:"button",onClick:t[5]||(t[5]=function(){return r.loadNextComments&&r.loadNextComments.apply(r,arguments)})},"Załaduj więcej")):Object(s["e"])("",!0)])):Object(s["e"])("",!0)])})),Ms=(n("d3b7"),n("3ca3"),n("ddb0"),"/api"),Ts={getVotes:function(e){return U.a.get("".concat(Ms,"/postvote/total"),{params:{postId:e}})},getUserVote:function(e){return U.a.get("".concat(Ms,"/postvote/").concat(e),{withCredentials:!0})},vote:function(e,t){return U.a.post("".concat(Ms,"/postvote/").concat(t),{vote:e},{withCredentials:!0})},changeVote:function(e,t){return U.a.put("".concat(Ms,"/postvote/").concat(t),{vote:e},{withCredentials:!0})},deleteVote:function(e){return U.a.delete("".concat(Ms,"/postvote/").concat(e),{withCredentials:!0})}},Es=n("ed3a"),zs=n.n(Es),Bs=Object(s["E"])("data-v-1a6aec0a");Object(s["s"])("data-v-1a6aec0a");var Ds={id:"comment-container"},Ws={id:"comment-header"},Fs={id:"comment-author"},Ys={id:"comment-content"};Object(s["q"])();var Qs=Bs((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("div",Ds,[Object(s["g"])("div",Ws,[Object(s["g"])("div",Fs,Object(s["y"])(n.author),1),n.isModerator?(Object(s["p"])(),Object(s["d"])("img",{key:0,src:zs.a,alt:"Usuń",onClick:t[1]||(t[1]=function(e){return r.deleteComment(n.id)})})):Object(s["e"])("",!0)]),Object(s["g"])("div",Ys,Object(s["y"])(n.content),1)])})),Zs=(n("a9e3"),"/api"),qs={getEntireNumberOfComments:function(e){return U.a.get("".concat(Zs,"/comment/total"),{params:{postId:e}})},getNumberOfComments:function(e,t,n){return U.a.get("".concat(Zs,"/comment/").concat(t,"/").concat(n),{params:{postId:e}})},addComment:function(e,t){return U.a.post("".concat(Zs,"/comment"),{postId:e,comment:t},{withCredentials:!0})},deleteComment:function(e){return U.a.delete("".concat(Zs,"/comment/").concat(e),{withCredentials:!0})}},Js={name:"Comment",props:{isModerator:Boolean,id:Number,author:String,content:String},emits:{onDelete:null},data:function(){return{}},methods:{deleteComment:function(e){var t=this;return Object(R["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,qs.deleteComment(e);case 2:s=n.sent,"message"in s.data?t.$emit("onDelete",{success:!1,message:s.data.message}):t.$emit("onDelete",{success:!0});case 4:case"end":return n.stop()}}),n)})))()}}};n("d745");Js.render=Qs,Js.__scopeId="data-v-1a6aec0a";var Ks=Js,Gs=(n("466d"),{methods:{getVideoId:function(e){var t=/^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/)|(?:(?:watch)?\?v(?:i)?=|&v(?:i)?=))([^#&?]*).*/;return e.match(t)[1]},checkYtUrl:function(e){var t=/(http:|https:)?(\/\/)?(www\.)?(youtube.com|youtu.be)\/(watch|embed)?(\?v=|\/)?(\S+)?/;return t.test(e)}}}),Hs=(n("5319"),{methods:{findUrls:function(e){var t=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/gim;return e.match(t)},wrapUrls:function(e){var t,n=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gim;t=e.replace(n,'<a href="$1" target="_blank">$1</a>');var s=/(^|[^/])(www\.[\S]+(\b|$))/gim;return t=t.replace(s,'$1<a href="http://$2" target="_blank">$2</a>'),t}}}),$s=n("9276"),_s=n("93de"),Xs=n("16c3"),ea=n("d375"),ta={name:"Post",components:{Comment:Ks},data:function(){return{postLoaded:!1,id:0,title:"",content:"",creationDate:"",imgSrc:"",videoSrc:"",subredditId:0,author:"",votes:0,userVote:0,voteUpIconSrc:$s,voteDownIconSrc:_s,newComment:"",comments:[],entireNumberOfComments:0,numberOfCommentsToLoadAtOnce:9,numberOfCommentsAlreadyLoaded:0,loadMoreVisibility:!0,message:"",commentsMessage:""}},mixins:[as,is,Gs,Hs],computed:Object(E["b"])(["loggedIn"]),created:function(){this.id=this.$route.params.id,this.init()},methods:{init:function(){var e=this;Promise.all([this.getPost(),this.getVotes(),this.getUserVote(),this.setEntireNumberOfComments()]).then((function(){e.postLoaded=!0,e.isModerator=e.checkIfUserIsModeratorById(e.subredditId),e.initSocketEvents(),e.loadNextComments()}))},getPost:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ss.getPost(e.id);case 2:n=t.sent,"message"in n?e.message=n.data.message:(e.title=n.data.title,e.content=e.wrapUrls(n.data.content),e.creationDate=n.data.creation_date,null!==n.data.video_url&&0!==n.data.video_url.length&&(e.videoSrc="https://www.youtube.com/embed/"+e.getVideoId(n.data.video_url)),e.imgSrc=n.data.image_path,e.subredditId=n.data.subreddit_id,e.author=n.data.nickname);case 4:case"end":return t.stop()}}),t)})))()},getVotes:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ts.getVotes(e.id);case 2:n=t.sent,"message"in n?e.message=n.data.message:e.votes=parseInt(n.data.votes);case 4:case"end":return t.stop()}}),t)})))()},getUserVote:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ts.getUserVote(e.id);case 2:n=t.sent,"message"in n?e.message=n.data.message:e.userVote=parseInt(n.data.vote),e.setVoteIconsSrcs();case 5:case"end":return t.stop()}}),t)})))()},setVoteIconsSrcs:function(){0===this.userVote?(this.voteUpIconSrc=$s,this.voteDownIconSrc=_s):1===this.userVote?(this.voteUpIconSrc=Xs,this.voteDownIconSrc=_s):-1===this.userVote&&(this.voteUpIconSrc=$s,this.voteDownIconSrc=ea)},voteUp:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.userVote){t.next=7;break}return t.next=3,Ts.vote(1,e.id);case 3:n=t.sent,"message"in n?e.message=n.data.message:(e.userVote=1,e.votes+=1,e.socketVote(1)),t.next=19;break;case 7:if(1!==e.userVote){t.next=14;break}return t.next=10,Ts.deleteVote(e.id);case 10:s=t.sent,"message"in s?e.message=s.data.message:(e.userVote=0,e.votes+=-1,e.socketVote(-1)),t.next=19;break;case 14:if(-1!==e.userVote){t.next=19;break}return t.next=17,Ts.changeVote(1,e.id);case 17:a=t.sent,"message"in a?e.message=a.data.message:(e.userVote=1,e.votes+=2,e.socketVote(2));case 19:e.setVoteIconsSrcs();case 20:case"end":return t.stop()}}),t)})))()},voteDown:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.userVote){t.next=7;break}return t.next=3,Ts.vote(-1,e.id);case 3:n=t.sent,"message"in n?e.message=n.data.message:(e.userVote=-1,e.votes-=1,e.socketVote(-1)),t.next=19;break;case 7:if(-1!==e.userVote){t.next=14;break}return t.next=10,Ts.deleteVote(e.id);case 10:s=t.sent,"message"in s?e.message=s.data.message:(e.userVote=0,e.votes+=1,e.socketVote(1)),t.next=19;break;case 14:if(1!==e.userVote){t.next=19;break}return t.next=17,Ts.changeVote(-1,e.id);case 17:a=t.sent,"message"in a?e.message=a.data.message:(e.userVote=-1,e.votes-=2,e.socketVote(-2));case 19:e.setVoteIconsSrcs();case 20:case"end":return t.stop()}}),t)})))()},socketVote:function(e){this.$socketio.emit("voted",{postId:this.id,vote:e})},setEntireNumberOfComments:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,qs.getEntireNumberOfComments(e.id);case 2:n=t.sent,"message"in n.data?(e.commentsMessage=n.data.message,e.loadMoreVisibility=!1):(e.entireNumberOfComments=parseInt(n.data.total),0===e.entireNumberOfComments&&(e.commentsMessage="Nie ma jeszcze komentarzy do tego posta."));case 4:case"end":return t.stop()}}),t)})))()},loadNextComments:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,qs.getNumberOfComments(e.id,e.numberOfCommentsAlreadyLoaded,e.numberOfCommentsToLoadAtOnce);case 2:n=t.sent,"message"in n.data?(e.commentsMessage=n.data.message,e.loadMoreVisibility=!1):(e.numberOfCommentsAlreadyLoaded+=n.data.length,e.comments=e.comments.concat(n.data),e.numberOfCommentsAlreadyLoaded>=e.entireNumberOfComments&&(e.loadMoreVisibility=!1));case 4:case"end":return t.stop()}}),t)})))()},addComment:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.commentsMessage="",0===e.newComment.length){t.next=8;break}return t.next=4,qs.addComment(e.id,e.newComment);case 4:n=t.sent,"message"in n.data?e.commentsMessage=n.data.message:(s={id:n.data.id,content:n.data.content,nickname:n.data.nickname},e.comments.unshift(s),e.entireNumberOfComments+=1,e.$socketio.emit("addedComment",{postId:e.id,comment:s})),t.next=9;break;case 8:e.commentsMessage="Nie wprowadzono komentarza.";case 9:case"end":return t.stop()}}),t)})))()},deleteComment:function(e,t){if(t.success){var n=this.comments.splice(e,1);this.$socketio.emit("deletedComment",{postId:this.id,comment:n[0]}),0===this.comments.length&&(this.commentsMessage="Nie ma jeszcze komentarzy do tego posta.")}else this.commentsMessage=t.message},initSocketEvents:function(){var e=this;this.$socketio.emit("joinPost",this.id),this.$socketio.on("commentWasDeleted",(function(t){var n=e.comments.findIndex((function(e){if(e.id===t.id)return!0}));e.comments.splice(n,1),0===e.comments.length&&(e.commentsMessage="Nie ma jeszcze komentarzy do tego posta.")})),this.$socketio.on("commentWasAdded",(function(t){e.comments.unshift(t),e.commentsMessage=""})),this.$socketio.on("postWasDeleted",(function(){e.$router.go(-1)})),this.$socketio.on("someoneVoted",(function(t){e.votes+=t}))}}};n("f2f0");ta.render=Us,ta.__scopeId="data-v-366630fa";var na=ta,sa=Object(s["E"])("data-v-d026e686");Object(s["s"])("data-v-d026e686");var aa=Object(s["g"])("h1",null,"Tworzenie posta",-1),oa={class:"mb-3"},ra=Object(s["g"])("label",{for:"input-title",class:"form-label"},"Tytuł",-1),ia={class:"mb-3"},ca=Object(s["g"])("label",{for:"input-content",class:"form-label"},"Treść",-1),da={class:"mb-3"},ua=Object(s["g"])("label",{for:"input-img",class:"form-label"},"Zdjęcie",-1),la={class:"mb-3"},ba=Object(s["g"])("label",{for:"input-ytlink",class:"form-label"},"YouTube wideo (URL)",-1),ma={id:"buttons"},ga={id:"message"};Object(s["q"])();var pa=sa((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("form",null,[aa,Object(s["g"])("div",oa,[ra,Object(s["D"])(Object(s["g"])("input",{type:"text",class:"form-control",id:"input-title","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.title=e})},null,512),[[s["B"],o.title]])]),Object(s["g"])("div",ia,[ca,Object(s["D"])(Object(s["g"])("textarea",{class:"form-control",id:"input-content","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.content=e})},null,512),[[s["B"],o.content]])]),Object(s["g"])("div",da,[ua,Object(s["g"])("input",{ref:"img",type:"file",onChange:t[3]||(t[3]=function(){return r.onImgSelect&&r.onImgSelect.apply(r,arguments)}),class:"form-control",id:"input-img"},null,544)]),Object(s["g"])("div",la,[ba,Object(s["D"])(Object(s["g"])("input",{type:"text",class:"form-control",id:"input-ytlink","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.ytUrl=e})},null,512),[[s["B"],o.ytUrl]])]),Object(s["g"])("div",ma,[Object(s["g"])("button",{type:"button",class:"btn",onClick:t[5]||(t[5]=function(){return r.addPost&&r.addPost.apply(r,arguments)})},"Zatwierdź"),Object(s["g"])("button",{type:"button",class:"btn",onClick:t[6]||(t[6]=function(){return r.cancel&&r.cancel.apply(r,arguments)})},"Anuluj")]),Object(s["g"])("div",ga,[Object(s["g"])("pre",null,Object(s["y"])(o.message),1)])])})),Oa={name:"AddPost",data:function(){return{subredditId:0,title:"",content:"",img:"",ytUrl:"",message:""}},mixins:[Gs],created:function(){this.subredditId=parseInt(this.$route.params.subredditId)},methods:{onImgSelect:function(){var e=this.$refs.img.files[0];this.img=e},checkFields:function(){return this.message="",0===this.title.length?this.message+="Nie wypełniono pola z tytułem.\n":this.title.length>256&&(this.message+="Tytuł zbyt długi - maksymalna długość to 256 znaków.\n"),0===this.content.length&&(this.message+="Nie wypełniono pola z treścią.\n"),0!==this.ytUrl.length&&(this.checkYtUrl(this.ytUrl)||(this.message+="Niepoprawny format YouTube wideo URL.\n")),0===this.message.length},addPost:function(){this.checkFields()&&(""===this.img?this.addPostWithoutImg():this.addPostWithImg())},addPostWithImg:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ss.addPostWithImg(e.title,e.content,e.img,e.ytUrl,e.subredditId);case 2:n=t.sent,"message"in n.data?e.message=n.data.message:(e.$router.push({path:"/post/".concat(n.data.id)}),e.$socketio.emit("addedPost",{subredditId:e.subredditId,post:n.data}));case 4:case"end":return t.stop()}}),t)})))()},addPostWithoutImg:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ss.addPost(e.title,e.content,e.ytUrl,e.subredditId);case 2:n=t.sent,"message"in n.data?e.message=n.data.message:(e.$router.push({path:"/post/".concat(n.data.id)}),e.$socketio.emit("addedPost",{subredditId:e.subredditId,post:n.data}));case 4:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$router.go(-1)}}};n("3945");Oa.render=pa,Oa.__scopeId="data-v-d026e686";var fa=Oa,ha=Object(s["E"])("data-v-35808de4");Object(s["s"])("data-v-35808de4");var ja={id:"content-container"},wa={key:0,id:"message"},va={key:1,id:"search-results-container",class:"d-xl-flex flex-xl-row align-items-xl-start"},Aa={id:"subreddits-container",class:"row row-cols-1"},ya=Object(s["g"])("h2",{id:"subreddits-header"},"Subreddit'y",-1),ka={key:0,id:"subreddits-message"},Sa={id:"card",class:"card h-100"},xa={class:"card-body"},Ia={class:"card-text"},Pa={id:"posts-container",class:"row row-cols-1"},La=Object(s["g"])("h2",{id:"posts-header"},"Posty",-1),Ca={key:0,id:"posts-message"},Na={id:"card",class:"card h-100"},Ra={class:"card-body"},Va={class:"card-text"};Object(s["q"])();var Ua=ha((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("div",ja,[0!==o.message.length?(Object(s["p"])(),Object(s["d"])("div",wa,Object(s["y"])(o.message),1)):(Object(s["p"])(),Object(s["d"])("div",va,[Object(s["g"])("div",Aa,[ya,0!==o.subredditsMessage.length?(Object(s["p"])(),Object(s["d"])("div",ka,Object(s["y"])(o.subredditsMessage),1)):(Object(s["p"])(!0),Object(s["d"])(s["a"],{key:1},Object(s["v"])(o.subreddits,(function(e){return Object(s["p"])(),Object(s["d"])("div",{id:"subreddits-cards",class:"col",key:e.id},[Object(s["g"])("div",Sa,[Object(s["g"])("div",xa,[Object(s["g"])("h5",{id:"subreddit-title",class:"card-title",onClick:function(t){return r.goToSubreddit(e.name)}},Object(s["y"])(e.name),9,["onClick"]),Object(s["g"])("p",Ia,Object(s["y"])(e.description),1)])])])})),128)),o.loadMoreSubsVisibility?(Object(s["p"])(),Object(s["d"])("button",{key:2,id:"load-more-subs-button",class:"btn",type:"button",onClick:t[1]||(t[1]=function(){return r.loadNextSearchedSubs&&r.loadNextSearchedSubs.apply(r,arguments)})},"Załaduj więcej")):Object(s["e"])("",!0)]),Object(s["g"])("div",Pa,[La,0!==o.postsMessage.length?(Object(s["p"])(),Object(s["d"])("div",Ca,Object(s["y"])(o.postsMessage),1)):(Object(s["p"])(!0),Object(s["d"])(s["a"],{key:1},Object(s["v"])(o.posts,(function(t){return Object(s["p"])(),Object(s["d"])("div",{id:"posts-cards",class:"col",key:t.id},[Object(s["g"])("div",Na,[Object(s["g"])("div",Ra,[Object(s["g"])("h5",{id:"post-title",class:"card-title",onClick:function(e){return r.goToPost(t.id)}},Object(s["y"])(t.title),9,["onClick"]),Object(s["g"])("p",Va,Object(s["y"])(e.trimPostContent(t.content)),1)])])])})),128)),o.loadMorePostsVisibility?(Object(s["p"])(),Object(s["d"])("button",{key:2,id:"load-more-posts-button",class:"btn",type:"button",onClick:t[2]||(t[2]=function(){return r.loadNextSearchedPosts&&r.loadNextSearchedPosts.apply(r,arguments)})},"Załaduj więcej")):Object(s["e"])("",!0)])]))])})),Ma={methods:{trimPostContent:function(e){return e.substring(0,100)+"..."}}},Ta={name:"SearchResults",data:function(){return{searchString:"",subreddits:[],entireNumberOfSearchedSubs:0,numberOfSubsToLoadAtOnce:10,numberOfSubsAlreadyLoaded:0,loadMoreSubsVisibility:!0,posts:[],entireNumberOfSearchedPosts:0,numberOfPostsToLoadAtOnce:10,numberOfPostsAlreadyLoaded:0,loadMorePostsVisibility:!0,subredditsMessage:"",postsMessage:"",message:""}},mixins:[as,Ma],watch:{"$route.query.searchString":function(){this.init()}},created:function(){this.init()},methods:{init:function(){var e=this;this.message="Ładowanie wyników...",this.subredditsMessage="",this.postsMessage="",this.setSearchString()&&Promise.all([this.setEntireNumberOfSearchedSubs(),this.setEntireNumberOfSearchedPosts()]).then((function(){e.message="",e.subreddits=[],e.posts=[],e.numberOfSubsAlreadyLoaded=0,e.numberOfPostsAlreadyLoaded=0,e.loadMoreSubsVisibility=!0,e.loadMorePostsVisibility=!0,e.loadNextSearchedSubs(),e.loadNextSearchedPosts()}))},setSearchString:function(){return"searchString"in this.$route.query?(this.searchString=this.$route.query.searchString,!0):(this.message="Brak parametru query 'searchString' w URL.",!1)},setEntireNumberOfSearchedSubs:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fe.getSearchedSubredditsTotal(e.searchString);case 2:n=t.sent,"message"in n.data?(e.subredditsMessage=n.data.message,e.loadMoreSubsVisibility=!1):(e.entireNumberOfSearchedSubs=parseInt(n.data.total),0===e.entireNumberOfSearchedSubs&&(e.subredditsMessage="Brak subreddit'ów zawierających w nazwie '".concat(e.searchString.toLowerCase(),"'.")));case 4:case"end":return t.stop()}}),t)})))()},loadNextSearchedSubs:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Fe.getNumberOfSearchedSubreddits(e.searchString,e.numberOfSubsAlreadyLoaded,e.numberOfSubsToLoadAtOnce);case 2:n=t.sent,"message"in n.data?(e.subredditsMessage=n.data.message,e.loadMoreSubsVisibility=!1):(e.numberOfSubsAlreadyLoaded+=n.data.length,e.subreddits=e.subreddits.concat(n.data),e.numberOfSubsAlreadyLoaded>=e.entireNumberOfSearchedSubs&&(e.loadMoreSubsVisibility=!1));case 4:case"end":return t.stop()}}),t)})))()},setEntireNumberOfSearchedPosts:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ss.getSearchedPostsTotal(e.searchString);case 2:n=t.sent,"message"in n.data?(e.postsMessage=n.data.message,e.loadMorePostsVisibility=!1):(e.entireNumberOfSearchedPosts=parseInt(n.data.total),0===e.entireNumberOfSearchedPosts&&(e.postsMessage="Brak postów zawierających w treści '".concat(e.searchString.toLowerCase(),"'.")));case 4:case"end":return t.stop()}}),t)})))()},loadNextSearchedPosts:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ss.getNumberOfSearchedPosts(e.searchString,e.numberOfPostsAlreadyLoaded,e.numberOfPostsToLoadAtOnce);case 2:n=t.sent,"message"in n.data?(e.postsMessage=n.data.message,e.loadMorePostsVisibility=!1):(e.numberOfPostsAlreadyLoaded+=n.data.length,e.posts=e.posts.concat(n.data),e.numberOfPostsAlreadyLoaded>=e.entireNumberOfSearchedPosts&&(e.loadMorePostsVisibility=!1));case 4:case"end":return t.stop()}}),t)})))()},goToSubreddit:function(e){this.$router.push({path:"/subreddit/".concat(e)})},goToPost:function(e){this.$router.push({path:"/post/".concat(e)})}}};n("1dd3");Ta.render=Ua,Ta.__scopeId="data-v-35808de4";var Ea=Ta,za=Object(s["E"])("data-v-1d8095b5");Object(s["s"])("data-v-1d8095b5");var Ba={id:"content-container"},Da=Object(s["g"])("h2",null,"Tworzenie subreddit'a",-1),Wa={class:"mb-3"},Fa=Object(s["g"])("label",{for:"input-name",class:"form-label"},"Nazwa",-1),Ya={class:"mb-3"},Qa=Object(s["g"])("label",{for:"input-description",class:"form-label"},"Opis",-1),Za={id:"form-buttons"},qa={id:"message"};Object(s["q"])();var Ja=za((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("div",Ba,[Da,Object(s["g"])("form",null,[Object(s["g"])("div",Wa,[Fa,Object(s["D"])(Object(s["g"])("input",{type:"text",class:"form-control",id:"input-name","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.name=e})},null,512),[[s["B"],o.name]])]),Object(s["g"])("div",Ya,[Qa,Object(s["D"])(Object(s["g"])("textarea",{class:"form-control",id:"input-description","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.description=e})},null,512),[[s["B"],o.description]])]),Object(s["g"])("div",Za,[Object(s["g"])("button",{type:"button",class:"btn",onClick:t[3]||(t[3]=function(){return r.addSubreddit&&r.addSubreddit.apply(r,arguments)})},"Zatwierdź"),Object(s["g"])("button",{type:"button",class:"btn",onClick:t[4]||(t[4]=function(){return r.cancel&&r.cancel.apply(r,arguments)})},"Anuluj")]),Object(s["g"])("div",qa,[Object(s["g"])("pre",null,Object(s["y"])(o.message),1)])])])})),Ka={name:"AddPost",data:function(){return{name:"",description:"",message:""}},methods:{checkFields:function(){return this.message="",0===this.name.length?this.message+="Nie wypełniono pola z nazwą.\n":this.name.length>256&&(this.message+="Nazwa zbyt długa - maksymalna długość to 256 znaków.\n"),0===this.description.length?this.message+="Nie wypełniono pola z opisem.\n":this.description.length>256&&(this.message+="Opis zbyt długi - maksymalna długość to 256 znaków.\n"),0===this.message.length},addSubreddit:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.checkFields()){t.next=5;break}return t.next=3,Fe.addSubreddit(e.name,e.description);case 3:n=t.sent,"message"in n.data?e.message=n.data.message:(e.$store.commit("addUserSubreddit",{id:n.data.id,name:n.data.name}),e.$router.push({path:"/mysubreddits"}));case 5:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$router.go(-1)}}};n("9e7c");Ka.render=Ja,Ka.__scopeId="data-v-1d8095b5";var Ga=Ka,Ha=Object(s["E"])("data-v-6c77d812");Object(s["s"])("data-v-6c77d812");var $a={id:"content-container"},_a={key:0,id:"global-message"},Xa={key:1},eo={key:0,id:"navbar"},to={id:"sort-section"},no=Object(s["g"])("h4",null,"Sortowanie",-1),so={id:"sort-radios"},ao={id:"sort-by-section"},oo=Object(s["g"])("label",{for:"sort-by-default-radio"},"Domyślne",-1),ro={id:"sort-by-section"},io=Object(s["g"])("label",{for:"sort-by-votes-radio"},"Według głosów",-1),co={id:"sort-by-section"},uo=Object(s["g"])("label",{for:"sort-by-newest-radio"},"Według daty",-1),lo={id:"posts"},bo={id:"message"},mo={id:"cards",class:"row row-cols-1 row-cols-lg-2 row-cols-xl-3 g-4"},go={id:"card",class:"card h-100"},po={class:"card-body"},Oo={id:"card-header"},fo={id:"card-headers"},ho=Object(s["g"])("img",{src:dn.a,alt:"Usuń"},null,-1),jo={id:"card-text",class:"card-text"},wo={id:"card-footer",class:"card-footer"},vo={id:"creation-date",class:"text-muted"},Ao=Object(s["f"])("Głosy: "),yo={id:"load-more-container"},ko={ref:"bottom",id:"bottom"};Object(s["q"])();var So=Ha((function(e,t,n,a,o,r){return Object(s["p"])(),Object(s["d"])("div",$a,[o.isLoaded?(Object(s["p"])(),Object(s["d"])("div",Xa,[0!==o.entireNumberOfPostsToLoad?(Object(s["p"])(),Object(s["d"])("nav",eo,[Object(s["g"])("div",to,[no,Object(s["g"])("div",so,[Object(s["g"])("div",ao,[Object(s["D"])(Object(s["g"])("input",{type:"radio",id:"sort-by-default-radio",value:"default","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.sortOption=e}),onChange:t[2]||(t[2]=function(){return r.sortPosts&&r.sortPosts.apply(r,arguments)})},null,544),[[s["A"],o.sortOption]]),oo]),Object(s["g"])("div",ro,[Object(s["D"])(Object(s["g"])("input",{type:"radio",id:"sort-by-votes-radio",value:"votes","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.sortOption=e}),onChange:t[4]||(t[4]=function(){return r.sortPosts&&r.sortPosts.apply(r,arguments)})},null,544),[[s["A"],o.sortOption]]),io]),Object(s["g"])("div",co,[Object(s["D"])(Object(s["g"])("input",{type:"radio",id:"sort-by-newest-radio",value:"newest","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.sortOption=e}),onChange:t[6]||(t[6]=function(){return r.sortPosts&&r.sortPosts.apply(r,arguments)})},null,544),[[s["A"],o.sortOption]]),uo])])])])):Object(s["e"])("",!0),Object(s["g"])("div",lo,[Object(s["g"])("div",bo,Object(s["y"])(o.message),1),Object(s["g"])("div",mo,[(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["v"])(o.posts,(function(t,n){return Object(s["p"])(),Object(s["d"])("div",{class:"col",key:t.id},[Object(s["g"])("div",go,[Object(s["g"])("div",po,[Object(s["g"])("div",Oo,[Object(s["g"])("div",fo,[Object(s["g"])("h6",{id:"subreddit-name",onClick:function(e){return r.goToSubreddit(t.subreddit_name)}},"/"+Object(s["y"])(t.subreddit_name),9,["onClick"]),Object(s["g"])("h5",{id:"card-title",class:"card-title",onClick:function(e){return r.goToPost(t.id)}},Object(s["y"])(t.title),9,["onClick"])]),e.checkIfUserIsModeratorByName(t.subreddit_name)?(Object(s["p"])(),Object(s["d"])("button",{key:0,onClick:function(e){return r.deletePost(t.id,n)}},[ho],8,["onClick"])):Object(s["e"])("",!0)]),Object(s["g"])("p",jo,Object(s["y"])(t.content),1)]),Object(s["g"])("div",wo,[Object(s["g"])("small",vo,Object(s["y"])(e.formatDate(t.creation_date)),1),Object(s["g"])("small",null,[Ao,Object(s["g"])("span",{id:t.votes>0?"votes-green":t.votes<0?"votes-red":""},Object(s["y"])(t.votes),9,["id"])])])])])})),128))]),Object(s["g"])("div",yo,[o.loadMoreVisibility?(Object(s["p"])(),Object(s["d"])("button",{key:0,id:"loadMoreButton",class:"btn",type:"button",onClick:t[7]||(t[7]=function(){return r.loadNextPosts&&r.loadNextPosts.apply(r,arguments)})},"Załaduj więcej")):Object(s["e"])("",!0)]),Object(s["g"])("div",ko,null,512)])])):(Object(s["p"])(),Object(s["d"])("div",_a,Object(s["y"])(o.globalMessage),1))])})),xo={name:"Subreddit",data:function(){return{id:0,posts:[],entireNumberOfPostsToLoad:0,numberOfPostsToLoadAtOnce:0,numberOfPostsAlreadyLoaded:0,windowWidth:window.innerWidth,resizeId:0,loadMoreVisibility:!1,loadedMorePostsFlag:!1,numberOfLoads:0,sortOption:"",message:"",globalMessage:"Ładowanie postów...",isLoaded:!1}},mixins:[as,is],computed:Object(E["b"])(["loggedIn"]),created:function(){this.init()},updated:function(){this.loadedMorePostsFlag&&this.numberOfLoads>1&&(this.scrollToBottom(),this.loadedMorePostsFlag=!1)},methods:{init:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loggedIn){t.next=10;break}return e.initSocketEvents(),window.onresize=e.onResize,e.setNumberOfPostsToLoadAtOnce(),t.next=6,e.setEntireNumberOfPostsToLoad();case 6:e.globalMessage="Ładowanie postów...",e.loadNextPosts().then((function(){e.isLoaded=!0})),t.next=11;break;case 10:e.globalMessage="Nie jesteś zalogowany.";case 11:case"end":return t.stop()}}),t)})))()},setEntireNumberOfPostsToLoad:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ss.getEntireNumberOfUserFollowedSubredditPosts();case 2:n=t.sent,"message"in n.data?(e.message=n.data.message,e.loadMoreVisibility=!1):0===parseInt(n.data.amount)?(e.message="Brak postów do wyświetlenia. Obserwuj subreddit'y.",e.loadMoreVisibility=!1):e.entireNumberOfPostsToLoad=parseInt(n.data.amount);case 4:case"end":return t.stop()}}),t)})))()},onResize:function(){clearTimeout(this.resizeId),this.resizeId=setTimeout(this.onResizeEnd,250)},onResizeEnd:function(){this.windowWidth=window.innerWidth,this.setNumberOfPostsToLoadAtOnce()},setNumberOfPostsToLoadAtOnce:function(){this.windowWidth>=1200?this.numberOfPostsToLoadAtOnce=12:this.windowWidth>=768?this.numberOfPostsToLoadAtOnce=9:this.windowWidth>=576?this.numberOfPostsToLoadAtOnce=6:this.numberOfPostsToLoadAtOnce=3},loadNextPosts:function(){var e=this;return Object(R["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadMoreVisibility=!0,t.next=3,ss.getNumberOfUserFollowedSubredditPosts(e.numberOfPostsAlreadyLoaded,e.numberOfPostsToLoadAtOnce);case 3:n=t.sent,"message"in n.data?(e.message=n.data.message,e.loadMoreVisibility=!1):(e.numberOfPostsAlreadyLoaded+=n.data.length,e.posts=e.posts.concat(n.data),e.sortPosts(),e.numberOfPostsAlreadyLoaded>=e.entireNumberOfPostsToLoad&&(e.loadMoreVisibility=!1),e.numberOfLoads++,e.loadedMorePostsFlag=!0);case 5:case"end":return t.stop()}}),t)})))()},sortPosts:function(){"votes"===this.sortOption?this.posts.sort((function(e,t){return e.votes<t.votes?1:-1})):"newest"===this.sortOption?this.posts.sort((function(e,t){return e.creation_date<t.creation_date?1:-1})):this.posts.sort((function(e,t){return e.id>t.id?1:-1}))},scrollToBottom:function(){var e=this.$refs.bottom;e.scrollIntoView()},deletePost:function(e,t){var n=this;return Object(R["a"])(regeneratorRuntime.mark((function s(){var a,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,ss.deletePost(e);case 2:a=s.sent,"message"in a.data?n.message=a.data.message:(o=n.posts.splice(t,1)[0],n.$socketio.emit("deletedPost",{subredditId:e,post:o}));case 4:case"end":return s.stop()}}),s)})))()},initSocketEvents:function(){var e=this;this.$socketio.emit("joinUserHome"),this.$socketio.on("postWasDeleted",(function(t){var n=e.posts.findIndex((function(e){if(e.id===t.id)return!0}));e.posts.splice(n,1),0===e.posts.length&&(e.message="Nie dodano jeszcze żadnych postów.")}))},goToSubreddit:function(e){this.$router.push("/subreddit/"+e)},goToPost:function(e){this.$router.push("/post/"+e)}}};n("f15f");xo.render=So,xo.__scopeId="data-v-6c77d812";var Io=xo,Po=[{path:"/",name:ct,component:ct,children:[{path:"/userhome",name:Io,component:Io},{path:"/subreddits",name:xt,component:xt},{path:"/mysubreddits",name:Ft,component:Ft},{path:"/followedsubreddits",name:an,component:an},{path:"/addsubreddit",name:Ga,component:Ga}]},{path:"/subreddit/:name",name:ds,component:ds},{path:"/post/:id",name:na,component:na},{path:"/addpost/:subredditId",name:fa,component:fa},{path:"/searchresults",name:Ea,component:Ea},{path:"/subredditedit/:id",name:"SubredditEdit",component:Qe},{path:"/login",name:"Login",component:X},{path:"/register",name:"Register",component:me},{path:"/usersettings",name:"UserSettings",component:Ce}],Lo=Object(F["a"])({history:Object(F["b"])(),routes:Po}),Co=Lo,No=(n("ab8b"),n("7b17"),n("0e44")),Ro=Object(E["a"])({plugins:[Object(No["a"])({storage:window.sessionStorage})],state:function(){return{loggedIn:!1,userId:0,username:"",userSubreddits:[]}},getters:{},mutations:{setUser:function(e,t){e.loggedIn=!0,e.userId=t.id,e.username=t.username,e.userSubreddits=t.userSubreddits},resetUser:function(e){e.loggedIn=!1,e.userId=0,e.username=""},changeUsername:function(e,t){e.username=t},addUserSubreddit:function(e,t){e.userSubreddits.push(t)}},actions:{}}),Vo=Ro,Uo=n("8e27"),Mo=n.n(Uo),To=Object(s["c"])(W),Eo=Mo()();To.config.globalProperties.$socketio=Eo,To.use(Co),To.use(Vo),To.mount("#app")},"577d":function(e,t,n){},"630a":function(e,t,n){},"6acc":function(e,t,n){"use strict";n("d1c2")},"7de0":function(e,t,n){},"85a8":function(e,t,n){"use strict";n("3547")},"870d":function(e,t,n){},"8e73":function(e,t,n){"use strict";n("2a9c")},9276:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAC0klEQVRoge2ZO2gUQRjHf2cIahIjCUc0vsAXqNVpIT4QYkpRwUKxSGWhhYJaRsTOQlRIQEEsFLSwio1goYkoFiKCYsBE8YGCnviKxkQUjTmL7zs2nnd7Ozdzsyr7g2FgZ/jP/9t57OwMJCQkxMFUoAt4D2SBU0BTrI4qoAa4AuQK0mOgOUZfxhxGjL8CMsBS4L4+OxajLyPagZ/AD2DVhOdrkUCexmHKlDTSCzngQEFZgz7/6tuUKSngEmK2D5hUUJ7RskeefRmzFzH6FphVpPy4lp/wacqU5cA3YBzYWKS8DviABLLCoy8j6oFBxGRXiTo7tfymL1OVcBYx2Q9MKVEnv/Ru82XKlK2IwVFgSYk6bQTflFpPvoxYAAwjJneE1OvROgd9mDKlFriNGLwQUm8+MIZ8O1o8+DLmCBLEC8I3gt1a77QPU6a0EWxBVofUa0SG3jiwzIMvI1qA18hb7ixTN/+BLJZGgaGQlAVuIducBtdBpIDLaqSXP7cghXQA34sEYZoGgBkuA9lNsAVptdCpR+ZVWJoLbAYeaJvnLdr7jWbgk4pucSUagUXa5rArwf0qeNWVYESaCOZUWcqNdYANmvteRudo/tKV4BvkzRTbnleTdQQ9ssuF4JgK1rgQM2AycHJC+9abzvxSGBd7tP07tkJxB9JMhEkfZbLHzWLNP9oKxdkjaeCutt9tKxZnIP3a9jPKHLn+7UPrueazKf0XGpk4eyQFHNX2r9mKxb1qpflPVq2Zmg/ZCn1G3sg0W6EKmEcw4c/Yij1UoYytkCEdwBeCVSt0rxdlaN3QfJOdL2PakePWe8gVRdaFYP7vsNFWzICV2u6gS9E+Fe3B3wJRRxXuVBYiF5s54CIw3aV4CfJHsk9cC68hCOYdcAi5JnB9ZNOK/Ejlj2T3OdYH5My3F/tjnqjpHFUeyuuRu/MBYMSx+RHgOrC9mgEkJCT8o/wC+cL3QtwK5RUAAAAASUVORK5CYII="},"93de":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAGYktHRAD/AP8A/6C9p5MAAAL2SURBVGhD7ZlL6ExRHIAHeb8iEUVeC0Rh4ZnCykLKwiNZKY+ywIokOwtFEUoWhIUVC8rCo8SKhaK88ihEnuWZ9+P7zsyt4T/zn9t/7ty5U/errzu/MzPnce+5555zbiEnJyenEsvxEn7EPwlqfrfxIM7DhtEZj2GlSjTCCzgaE2cjWsB7XItDMUn64FTcjq/Rst7gLEyUB2jmS0LUWPrjKYwaMwYT4wuaca8QNR678km0zIsmJMUdNNNpIUqHfvgKLXe+Ce1hy2sxGL0isq50TIMPuK/4sbCsdOwww/ARelY+40pMk8lo2XdDVAeH0Yxu4ggTUqYvWr5Xpy6eoBlNDFFzsHyti09oJoNC1BxiNaTWzX6tdNyMnYofW5OZ+A09I6dNaAKJXBFHi2fFj4WRpWNLshc9G9exWfdJrCtSi6doJtND1BwSaUg0ag0MUXOI1ZBa94hzLFlROrYsS9Gz8RMPYHdMky4YlV83LqSiLjbHhBRxrme5L0OUAA7DZjgpROnhQs5yz4coAaIrMiBE6WEDLHdTiBLAtboZjg1ROixGy3yHiY2ax9FMb+EiHI5enfbsjR3FzY1odbjehKQYgu47mXE9fsdaizMfCW4H+fuzGGuy6vAWB1eHR0tHz7T/c0j8WsXf2A3/x/9dxqshqswWXI0vcAFaZmaYgDbOe81NhWo42/6Bv3CuCVnjENpVnIRWw/vqMfq7nSZkjWgXxq44yoQqnEAbYbfrakLW2IZW0A23aqxCf2PXa8ieb714Zl2YWclqfX4cRg/cNLZkO0Q06bwRorb0QLea/M0RE7LKFbSSa0LUlj3o9y4X6nmANhRfE1jJt1hp83shOiT73JliQlbZjzZkd4j+xel5NAXZYEKWuYdW1P3bcpyC+KrA785g5vfLoncqvo0qZyua7mjWzB3M2DxEKzw7REVmYDQFqfnOIyvsQhvi0Dse7WLRM2UHtgwuhu6jFS/3HMaddWcGJ4K+O3+Ovtj0udETc3JyUqVQ+AunSfbLRnAm3AAAAABJRU5ErkJggg=="},"9e54":function(e,t,n){},"9e7c":function(e,t,n){"use strict";n("5438")},aa2c:function(e,t,n){"use strict";n("4b7c")},b1c7:function(e,t,n){"use strict";n("3293")},b6f8:function(e,t,n){"use strict";n("eb83")},b6f9:function(e,t,n){},c121:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABaklEQVRIibXUv04UURgF8J/in1AZ2MrEJ5DdgpKwNpQ8gKUxSGNhwxMYeg0biFTwBL6BQE3NonYUbAHBSAzYmECW4t4RMszM3lmWk5xi7nzfOd+czHcZjBY62MffyH2soJnQX4qn+IJL9Et4gTU8GUZ8p0I4z+26Jus1xDOupoq3VMdSFddUXuxhgcFiyfkgjOFdSuH3GlPn2U0xOL+DwVlerCiKfsoUJbjVW2TQu4PBYf7gUUHRN7zEb2EXUjCHRuwdiKbwy12inVD/KtZexMGSsCbkeYLZirpZ/Iq1nVRxwtpvxcZ/2Ihik0IUbWzGd30hmsd1DDKTVeHTq7a3M4z4TUzhs7BE55FdfFIj83vDWMX5PN7iFMclddP4gHEcKFi0BwVNr4XPf3HjbA+7OIrPzzEj3LwZeljC15JhwLLh76GMH8vEF0YgnvFNXryBPyM0OMUE15fdezyryq4mJqLmf/wY4fQZf8IVT9rVffa3THIAAAAASUVORK5CYII="},c8e4:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAAm0lEQVRYhe2X0QqAIAxFbxH+UkT/l/mf5W/Uy3wRS52OIHZhiEy9Z3uagKpcBoAD4AFcUXgAO50Rk0sYx2ElAULlcyK3UO6UBAhVcvNJDQ8PSSjlhVHIrItYLa29/3kHagDiinL77gAiUgAFUAAFUAAFmCrOxhNNbl+ktw54WlfGu+FO05BqkR/Dc7G1ABiCOBnGB5mLflRU/9AND1hFV0u3JuMAAAAASUVORK5CYII="},d1c2:function(e,t,n){},d208:function(e,t,n){"use strict";n("630a")},d375:function(e,t,n){e.exports=n.p+"img/thumbdownred.50262637.png"},d717:function(e,t,n){"use strict";n("3689")},d745:function(e,t,n){"use strict";n("577d")},eb83:function(e,t,n){},ed3a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAABmJLR0QA/wD/AP+gvaeTAAAA3UlEQVRIie2VzQ6CMBCEP3wCf85a9f2fQ4gXr2jUhifBAyWppOwuNiaaMMmemDKdabsLM/4VK6ACboAz8F3gVsDaKrIEzkAbqgGOAn8HPCL+BdhYhMpoUV9P0s5c+Dbkl5pIAVwTC1NiYyJt+EehiQ2jiKsBDgaOFPUbHOAFZ2NOPLC3ilicZTv5VKyPNAuamElkkbuLAPWGaZgS3dfPJ+ucpMfoka++pTeqTqwPVnUmtSCPvQXVGC5IZRDRxNSmCukxIUWxBe4R3zwmoBteJV0E1sFXAycmDL4Zv4UXt1e0AgJn/L8AAAAASUVORK5CYII="},f15f:function(e,t,n){"use strict";n("4812")},f2f0:function(e,t,n){"use strict";n("10de")},fb87:function(e,t,n){"use strict";n("9e54")},fc6a0:function(e,t,n){"use strict";n("7de0")}});
//# sourceMappingURL=app.7191d196.js.map